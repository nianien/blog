# 项目脚本使用说明

本项目提供了三个便捷脚本来简化开发和部署流程。

## 📁 脚本文件

### 1. `start-local.sh` - 本地开发服务器
**用途**: 启动 Next.js 开发服务器进行本地开发

**功能**:
- 检查 Node.js 和 npm 环境
- 自动安装依赖（如果需要）
- 清理构建缓存
- 启动开发服务器

**使用方法**:
```bash
./start-local.sh
```

**访问地址**: http://localhost:3000

---

### 2. `build.sh` - 静态站点构建
**用途**: 构建和导出静态网站文件

**功能**:
- 检查环境依赖
- 自动安装依赖（如果需要）
- 清理构建缓存
- 构建项目
- 导出静态文件
- 显示构建统计信息

**使用方法**:
```bash
./build.sh
```

**输出目录**: `out/`

---

### 3. `preview.sh` - 静态站点预览
**用途**: 启动本地服务器预览构建好的静态网站

**功能**:
- 检查构建文件是否存在
- 自动选择可用端口
- 启动 Python HTTP 服务器

**使用方法**:
```bash
./preview.sh
```

**访问地址**: http://localhost:8000 (或 8001)

---

## 🚀 使用流程

### 开发模式
```bash
# 启动开发服务器
./start-local.sh
```

### 生产构建
```bash
# 1. 构建静态站点
./build.sh

# 2. 预览构建结果
./preview.sh
```

### 部署到 GitHub Pages
```bash
# 1. 构建静态站点
./build.sh

# 2. 部署到 GitHub Pages
./deploy.sh
```

---

## 📋 脚本特性

- ✅ **环境检查**: 自动检查 Node.js、npm 等依赖
- ✅ **自动安装**: 如果依赖缺失会自动安装
- ✅ **错误处理**: 完善的错误提示和处理
- ✅ **端口管理**: 自动检测和选择可用端口
- ✅ **缓存清理**: 自动清理旧的构建缓存
- ✅ **状态反馈**: 清晰的操作状态提示

---

## 🔧 故障排除

### 常见问题

1. **权限错误**
   ```bash
   chmod +x *.sh
   ```

2. **端口被占用**
   - 脚本会自动尝试其他端口
   - 或手动结束占用端口的进程

3. **依赖安装失败**
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

4. **构建失败**
   ```bash
   rm -rf .next out
   npm run build
   ```

---

## 📝 注意事项

- 确保已安装 Node.js (推荐 v18+)
- 确保已安装 Python 3 (用于预览服务器)
- 在 macOS/Linux 系统上运行
- 首次运行可能需要较长时间安装依赖 