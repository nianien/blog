<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/62d123c7e24ed574.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-42d55485b4428e47.js"/><script src="/_next/static/chunks/4bd1b696-8ec333fca6b38e39.js" async=""></script><script src="/_next/static/chunks/1684-a2aac8a674e5d38c.js" async=""></script><script src="/_next/static/chunks/main-app-2791dc86ed05573e.js" async=""></script><script src="/_next/static/chunks/6874-7791217feaf05c17.js" async=""></script><script src="/_next/static/chunks/app/layout-51baccc14cf1da9e.js" async=""></script><script src="/_next/static/chunks/968-d7155a2506e36f1d.js" async=""></script><script src="/_next/static/chunks/app/blog/%5B...slug%5D/page-3137b04d8f9ed325.js" async=""></script><meta name="next-size-adjust" content=""/><title>AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ - Skyfalling Blog</title><meta name="description" content="æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº AWS CodePipeline + CloudFormation æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„ ECS æŒç»­äº¤ä»˜ä½“ç³»ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚"/><meta property="og:title" content="AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ"/><meta property="og:description" content="æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº AWS CodePipeline + CloudFormation æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„ ECS æŒç»­äº¤ä»˜ä½“ç³»ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-10-29"/><meta property="article:author" content="Skyfalling"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ"/><meta name="twitter:description" content="æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº AWS CodePipeline + CloudFormation æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„ ECS æŒç»­äº¤ä»˜ä½“ç³»ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚"/><link rel="shortcut icon" href="/favicon.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link rel="icon" href="/favicon.png"/><link rel="apple-touch-icon" href="/favicon.png"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_f367f3"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen flex flex-col"><header class="bg-[var(--background)]"><nav class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8" aria-label="Global"><div class="flex lg:flex-1"><a class="-m-1.5 p-1.5" href="/"><span class="sr-only">Skyfalling Blog</span><span class="text-2xl font-bold text-gray-900">Skyfalling</span></a></div><div class="flex lg:hidden"><button type="button" class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"><span class="sr-only">æ‰“å¼€ä¸»èœå•</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><div class="hidden lg:flex lg:gap-x-12"><a class="text-base font-semibold leading-6 transition-colors text-gray-900 hover:text-blue-600" href="/">é¦–é¡µ</a><a class="text-base font-semibold leading-6 transition-colors text-blue-600 border-b-2 border-blue-600 pb-1" href="/blog/">åšå®¢</a><a class="text-base font-semibold leading-6 transition-colors text-gray-900 hover:text-blue-600" href="/about/">å…³äº</a></div><div class="hidden lg:flex lg:flex-1 lg:justify-end"><a class="text-base font-semibold leading-6 transition-colors text-gray-900 hover:text-blue-600" href="/contact/">è”ç³» <span aria-hidden="true">â†’</span></a></div></nav></header><main class="flex-1"><article class="min-h-screen"><div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-8"><div class="rounded-2xl shadow-2xl border border-gray-200 hover:shadow-3xl transition-all duration-300 p-8 sm:p-12"><header class="mb-8"><div class="flex items-center mb-6"><div class="inline-flex items-center px-3 py-1.5 bg-gray-50 text-gray-600 rounded-md text-sm font-normal"><svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><time dateTime="2025-10-29">2025å¹´10æœˆ29æ—¥</time></div></div><h1 class="text-4xl font-bold text-gray-900 mb-6 text-center">AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ</h1><div class="flex flex-wrap gap-2 mb-6 justify-center"><a class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-gray-900 transition-colors" href="/blog/tag/AWS/page/1/">AWS</a><a class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-gray-900 transition-colors" href="/blog/tag/Devops/page/1/">Devops</a><a class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-gray-900 transition-colors" href="/blog/tag/%20%E6%B3%B3%E9%81%93%E9%83%A8%E7%BD%B2/page/1/"> æ³³é“éƒ¨ç½²</a></div></header><div class="max-w-5xl mx-auto"><div class="prose prose-lg prose-gray mx-auto max-w-none prose-headings:text-gray-900 prose-headings:font-bold prose-p:text-gray-700 prose-p:leading-relaxed prose-a:text-blue-600 prose-a:no-underline hover:prose-a:text-blue-700 prose-strong:text-gray-900 prose-strong:font-semibold prose-li:text-gray-700 prose-hr:border-gray-300"><blockquote>
<p>æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº <strong>AWS CodePipeline + CloudFormation</strong> æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„<strong>ECS æŒç»­äº¤ä»˜ä½“ç³»</strong>ã€‚<br>è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚</p>
</blockquote>
<h2>ä¸€ã€èƒŒæ™¯ä¸ç—›ç‚¹ï¼šå½“ DevOps æ¨¡æ¿å¤±æ§</h2>
<p>åœ¨å¤šæ•°å¾®æœåŠ¡é¡¹ç›®ä¸­ï¼Œéšç€æœåŠ¡æ•°é‡å¢åŠ ã€ç¯å¢ƒå±‚æ¬¡å¤æ‚åŒ–ï¼ŒCI/CD æ¨¡æ¿å¾€å¾€ä¼šå¤±æ§ï¼š</p>
<ul>
<li>å„æœåŠ¡ä»“åº“å†…å„è‡ªç»´æŠ¤ä¸€ä»½ buildspecã€pipelineã€CFN æ¨¡æ¿ï¼›</li>
<li>æ¨¡æ¿æ›´æ–°æ— æ³•ç»Ÿä¸€å‘å¸ƒï¼›</li>
<li>èµ„æºå‘½åä¸å¯¼å‡ºä¸ä¸€è‡´ï¼›</li>
<li>å¤šæ³³é“éƒ¨ç½²ï¼ˆå¦‚ç°åº¦ã€è“ç»¿ï¼‰å­˜åœ¨æ ˆçº§é”å†²çªï¼›</li>
<li>æ¨¡æ¿åˆè§„æ€§æ— æ³•é›†ä¸­å®¡è®¡ã€‚</li>
</ul>
<p><strong>é—®é¢˜æœ¬è´¨ï¼š</strong> DevOps æ¨¡æ¿åˆ†æ•£ï¼Œéš¾ä»¥ç»Ÿä¸€æ¼”è¿›ä¸æ²»ç†ã€‚</p>
<p>åœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå…·å¤‡â€œé›†ä¸­æ¨¡æ¿æ²»ç† + å¹¶å‘éƒ¨ç½²èƒ½åŠ›â€çš„ä½“ç³»ï¼š<br><strong>åŒä»“ + ä¸‰å±‚ Pipeline + Lane æ ˆéš”ç¦»</strong>ï¼Œä¸‹å›¾å±•ç¤ºäº†å¤šæ³³é“ CI/CD çš„åˆ†å±‚æ¶æ„è®¾è®¡ã€‚</p>
<pre><code class="language-mermaid">flowchart TB
  subgraph InfraRepo[&quot;Infra Repoï¼ˆDevOps æ¨¡æ¿ä»“ï¼‰&quot;]
    A1[buildspec.yaml]
    A2[pipeline.yaml]
    A3[service-stack.yaml]
  end

  subgraph AppRepo[&quot;App Repoï¼ˆä¸šåŠ¡ä»£ç ä»“ï¼‰&quot;]
    B1[&quot;src/&quot;]
    B2[Dockerfile]
  end

  A1 --&gt;|åŒæºè¾“å…¥| P1[&quot;AWS CodePipeline&quot;]
  B1 --&gt;|åŒæºè¾“å…¥| P1
  B2 --&gt; P1

  subgraph PipelineLayer[&quot;Pipeline å±‚&quot;]
    direction TB
    P2[&quot;Infra Pipeline (infra-{env})&quot;]
    P3[&quot;Bootstrap Pipeline (bootstrap-{env})&quot;]
    P4[&quot;App Pipeline ({service}-{env}-{lane})&quot;]
  end

  P1 --&gt; P2 --&gt; P3 --&gt; P4

  subgraph ResourceLayer[&quot;CloudFormation æ ˆå±‚&quot;]
    direction LR
    C1[&quot;Infra Stack\n(VPC, Subnets, Namespace)&quot;]
    C2[&quot;Boot Stack\n(ALB, LogGroup, Cloud Map Service)&quot;]
    C3[&quot;App Lane Stack\n(TaskDef, ECS Service, TG, ListenerRule)&quot;]
  end

  P4 --&gt;|ImportValue| C3
  P3 --&gt;|å¯¼å‡ºå…±äº«èµ„æº| C2
  P2 --&gt;|å¯¼å‡ºå…±äº«èµ„æº| C1

  subgraph Traffic[&quot;æ™ºèƒ½æµé‡è·¯ç”±&quot;]
    direction TB
    T1[&quot;ALB ListenerRule&quot;]
    T2[&quot;TargetGroup (lane=gray)&quot;]
    T3[&quot;TargetGroup (lane=blue)&quot;]
    T4[&quot;TargetGroup (default)&quot;]
  end
  C3 --&gt; T1 --&gt; T2 &amp; T3 &amp; T4

  classDef repo fill:#E6F0FF,stroke:#6D8FFF;
  classDef pipe fill:#FFF6E1,stroke:#FFB200;
  classDef res fill:#E8FFE8,stroke:#40C057;
  classDef traf fill:#FBE9E7,stroke:#E57373;

  class InfraRepo,AppRepo repo;
  class P1,P2,P3,P4 pipe;
  class C1,C2,C3 res;
  class T1,T2,T3,T4 traf;
</code></pre>
<h2>äºŒã€æ ¸å¿ƒç†å¿µï¼šåŒä»“ + ä¸‰å±‚ + Lane æ ˆ</h2>
<p>æ•´ä¸ªä½“ç³»çš„è®¾è®¡æ ¸å¿ƒæ˜¯ä¸‰ä¸ªå…³é”®è¯ï¼š<strong>åŒä»“ã€åˆ†å±‚ã€æ³³é“ï¼ˆLaneï¼‰</strong>ã€‚</p>
<h3>1. åŒä»“æ¶æ„ï¼šé€»è¾‘åˆ†æ²»</h3>
<table>
<thead>
<tr>
<th>ä»“åº“ç±»å‹</th>
<th>å†…å®¹èŒè´£</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>Infra Repo</td>
<td>ç»Ÿä¸€çš„ DevOps æ¨¡æ¿ã€buildspecã€CFN æ ˆæ¨¡æ¿ã€è„šæœ¬å·¥å…·</td>
<td>ci/buildspec.yaml, ci/app/templates/service-stack.yaml</td>
</tr>
<tr>
<td>App Repo</td>
<td>ä¸šåŠ¡ä»£ç ä¸é…ç½®ã€Dockerfileã€æœåŠ¡é€»è¾‘</td>
<td>src/, Dockerfile</td>
</tr>
</tbody></table>
<p>å®ç°æœºåˆ¶ï¼š<strong>åŒæºè¾“å…¥ï¼ˆDual-Source Inputsï¼‰</strong></p>
<p>åœ¨ Pipeline çš„ Source é˜¶æ®µè¾“å‡ºä¸¤ä¸ª Artifactï¼š</p>
<ul>
<li>Name: InfraSource â†’ OutputArtifacts: [InfraOut]</li>
<li>Name: AppSource â†’ OutputArtifacts: [AppOut]</li>
</ul>
<p>Build é˜¶æ®µä»¥ InfraOut ä¸ºä¸»è¾“å…¥ï¼ˆå«ç»Ÿä¸€ buildspecï¼‰ï¼ŒAppOut ä¸ºå‰¯è¾“å…¥ï¼ˆå«ä¸šåŠ¡ä»£ç ï¼‰ã€‚<br>CodeBuild ä¼šè‡ªåŠ¨æŒ‚è½½ç¯å¢ƒå˜é‡ï¼š</p>
<ul>
<li><code>$CODEBUILD_SRC_DIR</code> â†’ InfraOut</li>
<li><code>$CODEBUILD_SRC_DIR_AppOut</code> â†’ AppOut</li>
</ul>
<p>è¿™æ ·ï¼Œæ‰€æœ‰æœåŠ¡å…±ç”¨ä¸€å¥— CI/CD æ¨¡æ¿ï¼ŒDevOps å›¢é˜Ÿç»Ÿä¸€ç»´æŠ¤ï¼ŒApp å›¢é˜Ÿåªå…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚</p>
<h3>2. ä¸‰å±‚ Pipeline æ¶æ„ï¼šèŒè´£åˆ†å±‚ + æ— é”éƒ¨ç½²</h3>
<p>æ•´ä¸ªç³»ç»Ÿé€šè¿‡ <strong>ä¸‰å±‚ Pipeline æ¶æ„</strong> å®ç°éƒ¨ç½²è§£è€¦ä¸å¹¶è¡ŒåŒ–ï¼š</p>
<ul>
<li><strong>infra å±‚</strong>ï¼šè´Ÿè´£ç¯å¢ƒé€šç”¨åŸºç¡€è®¾æ–½ï¼ˆVPCã€å­ç½‘ã€ECS Clusterã€Cloud Map å‘½åç©ºé—´ï¼‰ã€‚</li>
<li><strong>boot å±‚</strong>ï¼šç»Ÿä¸€ç®¡ç†è´Ÿè½½å‡è¡¡ã€æ—¥å¿—ã€æ³¨å†Œå‘ç°ç­‰<strong>æœåŠ¡æ¥å…¥è®¾æ–½</strong>ã€‚</li>
<li><strong>app å±‚</strong>ï¼šè´Ÿè´£å…·ä½“æœåŠ¡çš„æ³³é“çº§éƒ¨ç½²ï¼ˆTaskDefinitionã€ECS Serviceã€ListenerRuleï¼‰ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th>å±‚çº§</th>
<th>Pipeline å‘½å</th>
<th>ç®¡ç†èµ„æº</th>
<th>Pipeline å˜é‡</th>
<th>æ›´æ–°é¢‘ç‡</th>
<th>å¹¶å‘ç‰¹æ€§</th>
</tr>
</thead>
<tbody><tr>
<td>ç¯å¢ƒçº§</td>
<td>infra-{env}</td>
<td>VPCã€Subnetsã€ECS Clusterã€Cloud Map Namespace</td>
<td><code>ENV=dev</code></td>
<td>å‡ ä¹ä¸å˜</td>
<td>ç‹¬ç«‹è¿è¡Œ</td>
</tr>
<tr>
<td>æœåŠ¡çº§</td>
<td>boot-{env}</td>
<td>ALBã€LogGroupã€Cloud Map Service</td>
<td><code>ENV=dev,SERVICE=user-api</code></td>
<td>æ–°æœåŠ¡æ¥å…¥</td>
<td>æŒ‰æœåŠ¡å¹¶è¡Œ</td>
</tr>
<tr>
<td>åº”ç”¨çº§</td>
<td>{service}-{env}</td>
<td>TaskDefinitionã€ECS Serviceã€TGã€ListenerRule</td>
<td><code>ENV=dev,SERVICE=user-api,LANE=gray</code></td>
<td>é«˜é¢‘å‘å¸ƒ</td>
<td>æŒ‰æ³³é“å¹¶è¡Œ</td>
</tr>
</tbody></table>
<p>å…¶ä¸­ï¼Œ<code>bootstrap-{env}</code> æ˜¯<strong>æŒ‰ç¯å¢ƒèšåˆçš„é€šç”¨æœåŠ¡å±‚</strong>ï¼Œè€ŒéæŒ‰æœåŠ¡æ‹†åˆ†ã€‚å®ƒæœ¬èº«ä¸ç»‘å®šå•ä¸€æœåŠ¡ï¼Œè€Œæ˜¯é€šè¿‡ <strong>Pipeline<br>å˜é‡ <code>SERVICE</code></strong><br>åŠ¨æ€ç”ŸæˆæœåŠ¡ç›¸å…³èµ„æºã€‚</p>
<p>ç³»ç»Ÿåˆ†å±‚è®¾è®¡çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºï¼š<strong>éƒ¨ç½²äº’ä¸åŠ é”ã€å¹¶å‘å¤©ç„¶å®‰å…¨ã€‚</strong></p>
<h4>ğŸ”¹ æ ˆçº§å¹¶è¡Œçš„æ ¸å¿ƒé€»è¾‘</h4>
<p>CloudFormation çš„é”ç²’åº¦æ˜¯ <strong>Stack çº§åˆ«</strong>ã€‚<br>ç³»ç»Ÿé€šè¿‡â€œåˆ†å±‚ + å¤šæ ˆ + å‘½åéš”ç¦»â€çš„æ–¹å¼å®ç°ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ol>
<li><p><strong>åŒå±‚å¯å¹¶è¡Œ</strong></p>
<ul>
<li>æ¯ä¸ªç¯å¢ƒï¼ˆinfraï¼‰ã€æœåŠ¡ï¼ˆbootï¼‰ã€æ³³é“ï¼ˆapp-laneï¼‰éƒ½å¯¹åº”ç‹¬ç«‹çš„ Stackã€‚</li>
<li>ä¸åŒ Stack çš„èµ„æºå‘½åä¸å†™é›†å®Œå…¨éš”ç¦»ï¼Œå› æ­¤å¯ä»¥<strong>åŒæ—¶æ‰§è¡Œæ›´æ–°</strong>ï¼Œäº’ä¸åŠ é”ã€‚</li>
<li>ä¾‹å¦‚å¤šä¸ªæ³³é“ï¼ˆgrayã€blueã€defaultï¼‰åœ¨åŒä¸€æœåŠ¡ä¸‹å¯å¹¶è¡Œéƒ¨ç½²ï¼Œå„è‡ªå ç”¨è‡ªå·±çš„ Stack é”ã€‚</li>
</ul>
</li>
<li><p><strong>è·¨å±‚æœ‰åº</strong></p>
<ul>
<li>ä¸Šå±‚ Pipeline ä»…<strong>ä¾èµ–ä¸‹å±‚çš„å¯¼å‡ºå€¼ï¼ˆOutputs/ImportValueï¼‰</strong>ï¼Œä¸ä¼šä¿®æ”¹ä¸‹å±‚èµ„æºã€‚</li>
<li>è¿™æ„å‘³ç€ï¼š<ul>
<li><code>infra</code> æ ˆå…ˆåˆ›å»ºç½‘ç»œä¸é›†ç¾¤å¹¶å¯¼å‡ºï¼›</li>
<li><code>boot</code> æ ˆè¯»å–å¯¼å‡ºåˆ›å»º ALBã€Serviceï¼›</li>
<li><code>app</code> æ ˆè¯»å– ListenerArnã€TargetGroup ç­‰ä¿¡æ¯å®Œæˆå‘å¸ƒã€‚</li>
</ul>
</li>
<li><strong>ä¾èµ–æœ‰åºä½†æ— å†™å†²çª</strong>ï¼Œä¸‹å±‚æ›´æ–°å®Œå³å¯è¢«ä¸Šå±‚å®‰å…¨å¼•ç”¨ã€‚</li>
</ul>
</li>
<li><p><strong>æ•´ä½“æ•ˆæœï¼šå¹¶è¡Œ + æ— é” + å¯æ§ä¾èµ–</strong></p>
<ul>
<li>åŒå±‚ä¹‹é—´å¯å¹¶å‘éƒ¨ç½²ï¼ˆæœåŠ¡ä¸æ³³é“äº’ä¸å¹²æ‰°ï¼‰ï¼›</li>
<li>è·¨å±‚ä¹‹é—´æŒ‰ä¾èµ–é¡ºåºæ‰§è¡Œï¼ˆæ— èµ„æºç«äº‰ï¼‰ï¼›</li>
<li>å®ç°äº†ä»åº•å±‚ç½‘ç»œåˆ°ä¸šåŠ¡æœåŠ¡çš„<strong>å…¨é“¾è·¯é«˜å¹¶å‘ã€é›¶é”å†²çªçš„äº¤ä»˜ä½“ç³»</strong>ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p>ç®€è€Œè¨€ä¹‹ï¼š<strong>åŒå±‚å¤šæ ˆå¹¶è¡Œï¼Œè·¨å±‚åªè¯»ä¾èµ–ã€‚</strong><br>è¿™æ­£æ˜¯å®ç°é«˜å¹¶å‘ã€é›¶å†²çªæŒç»­äº¤ä»˜çš„å…³é”®æœºåˆ¶ã€‚</p>
</blockquote>
<h1>3. Lane æ ˆï¼šå¹¶å‘éƒ¨ç½²çš„å…³é”®</h1>
<p>åœ¨ä¼ ç»Ÿçš„ ECS éƒ¨ç½²æ¨¡å‹ä¸­ï¼Œä¸€ä¸ªæœåŠ¡é€šå¸¸ç»‘å®šåˆ°å•ä¸ª <strong>ECS Service</strong>ã€‚<br>è¿™æ„å‘³ç€ä»»æ„æ—¶åˆ»åªèƒ½å­˜åœ¨ä¸€ä¸ªâ€œæ´»åŠ¨ç‰ˆæœ¬â€â€”â€”æ›´æ–°æ—¶åªèƒ½é€šè¿‡æ»šåŠ¨æ›´æ–°æˆ–æ›¿æ¢ä»»åŠ¡çš„æ–¹å¼å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚<br>è¿™ç§æ¨¡å‹è™½ç„¶ç®€å•ï¼Œä½†å­˜åœ¨æ˜æ˜¾ç“¶é¢ˆï¼š</p>
<ul>
<li>æ— æ³•åœ¨åŒä¸€æ—¶é—´ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬å…±å­˜ï¼ˆä¾‹å¦‚ç°åº¦ã€è“ç»¿æˆ– A/B æµ‹è¯•ï¼‰ã€‚</li>
<li>æ¯æ¬¡éƒ¨ç½²ä¼šé”å®šæ•´ä¸ª Service èµ„æºï¼Œæ— æ³•å¹¶å‘æ‰§è¡Œã€‚</li>
<li>æµé‡æ§åˆ¶ã€å›æ»šã€å®éªŒå‘å¸ƒéƒ½éœ€è¦é¢å¤–é€»è¾‘æˆ–å¤–éƒ¨æµé‡ç½‘å…³ã€‚</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œç³»ç»Ÿå¼•å…¥äº† <strong>Laneï¼ˆæ³³é“ï¼‰æ ˆæ¨¡å‹</strong>ã€‚</p>
<h2>ğŸ§© è®¾è®¡æ ¸å¿ƒï¼šLane = ç‹¬ç«‹ç”Ÿå‘½å‘¨æœŸçš„â€œç‰ˆæœ¬æ ˆâ€</h2>
<p>Lane æ ˆçš„è®¾è®¡æ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸€ä¸ª Lane è¡¨ç¤ºä¸€ä¸ªç‰ˆæœ¬ä¸Šä¸‹æ–‡ï¼ˆVersion Contextï¼‰</strong>ï¼Œ<br>åŒ…å«è¯¥ç‰ˆæœ¬çš„ ECS Serviceã€TargetGroupã€ListenerRule ç­‰èµ„æºï¼Œ<br>å¹¶é€šè¿‡ Header æˆ– Context é€‰æ‹©æ€§è·¯ç”±æµé‡ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼š</p>
<ul>
<li>æ¯ä¸ª Lane å°±åƒä¸€ä¸ªâ€œå¹¶è¡Œä¸–ç•Œâ€çš„ç‹¬ç«‹ Service å®ä¾‹ï¼›</li>
<li>å„ä¸ª Lane æ‹¥æœ‰ç‹¬ç«‹çš„èµ„æºã€ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼›</li>
<li>æµé‡é€šè¿‡è·¯ç”±è§„åˆ™ï¼ˆå¦‚ tracestate headerï¼‰æ™ºèƒ½åˆ†å‘ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<table>
<thead>
<tr>
<th>Lane</th>
<th>æ ˆå</th>
<th>Service åç§°</th>
<th>TargetGroup</th>
<th>è·¯ç”±æ¡ä»¶</th>
</tr>
</thead>
<tbody><tr>
<td>default</td>
<td>app-user-api-dev-default</td>
<td>user-api-dev-default</td>
<td>*-default-tg</td>
<td>é»˜è®¤</td>
</tr>
<tr>
<td>gray</td>
<td>app-user-api-dev-gray</td>
<td>user-api-dev-gray</td>
<td>*-gray-tg</td>
<td>tracestate=ctx=lane:gray</td>
</tr>
<tr>
<td>blue</td>
<td>app-user-api-dev-blue</td>
<td>user-api-dev-blue</td>
<td>*-blue-tg</td>
<td>tracestate=ctx=lane:blue</td>
</tr>
</tbody></table>
<p>æ¯ä¸ªæ³³é“çš„ CloudFormation Stack å®šä¹‰ä¸ºï¼š</p>
<pre><code class="language-yaml">StackName: !Sub &#39;app-${Service}-${Env}-${Lane}&#39;
Resources:
  Service:
    Type: AWS::ECS::Service
    Properties:
      ServiceName: !Sub &#39;${Service}-${Env}-${Lane}&#39;
  TargetGroup:
    Type: AWS::ElasticLoadBalancingV2::TargetGroup
    Properties:
      Name: !Sub &#39;${Service}-${Env}-${Lane}-tg&#39;
  ListenerRule:
    Type: AWS::ElasticLoadBalancingV2::ListenerRule
    Properties:
      Conditions:
        - Field: http-header
          HttpHeaderConfig:
            HttpHeaderName: tracestate
            Values: [ !Sub &#39;ctx=lane:${Lane}&#39; ]
      Actions:
        - Type: forward
          TargetGroupArn: !Ref TargetGroup
</code></pre>
<h2>âš™ï¸ Lane æ ˆçš„å››ä¸ªæ ¸å¿ƒç‰¹æ€§</h2>
<ol>
<li><p><strong>å®Œå…¨éš”ç¦»çš„æ ˆçº§èµ„æº</strong></p>
<ul>
<li>æ¯ä¸ª Lane æ‹¥æœ‰ç‹¬ç«‹çš„ ECS Serviceã€TargetGroupã€ListenerRuleã€‚</li>
<li>ä»»ä½•ä¸€ä¸ª Lane çš„æ›´æ–°ã€å¤±è´¥æˆ–å›æ»šéƒ½ä¸ä¼šå½±å“å…¶ä»–æ³³é“ã€‚</li>
<li>åˆ é™¤ Lane æ ˆå³å¯å®Œæˆèµ„æºè‡ªåŠ¨æ¸…ç†ï¼Œæ— éœ€æ‰‹åŠ¨å›æ”¶ TG æˆ– ListenerRuleã€‚</li>
</ul>
</li>
<li><p><strong>å¤©ç„¶æ”¯æŒå¹¶å‘éƒ¨ç½²</strong></p>
<ul>
<li>å› ä¸ºæ¯ä¸ª Lane æ˜¯ç‹¬ç«‹çš„ CloudFormation æ ˆï¼ˆStack çº§é”ç²’åº¦ï¼‰ï¼Œ<br>æ‰€ä»¥ä¸åŒ Lane çš„éƒ¨ç½²å¯<strong>å¹¶è¡Œæ‰§è¡Œ</strong>ï¼Œäº’ä¸é˜»å¡ã€‚</li>
<li>è¿™ä¹Ÿæ˜¯å®ç°â€œé«˜å¹¶å‘æ— é”éƒ¨ç½²â€çš„å…³é”®åŸºç¡€ã€‚</li>
</ul>
</li>
<li><p><strong>åŠ¨æ€å¯æ‰©å±•çš„è·¯ç”±ç»“æ„</strong></p>
<ul>
<li>ALB Listener åªéœ€é…ç½®ä¸€æ¬¡ï¼›</li>
<li>æ¯ä¸ª Lane æ ˆåœ¨åˆ›å»ºæ—¶å‘ Listener åŠ¨æ€æ³¨å†Œä¸€æ¡è§„åˆ™ï¼›</li>
<li>æ–°å¢æ³³é“æ— éœ€ä¿®æ”¹ä¸»æ ˆç»“æ„ï¼Œåªéœ€éƒ¨ç½²æ–° Lane æ ˆï¼›</li>
<li>åˆ é™¤æ³³é“æ—¶è‡ªåŠ¨åˆ é™¤å¯¹åº”è§„åˆ™ä¸ TGï¼Œä¿æŒè·¯ç”±æ•´æ´ã€‚</li>
</ul>
</li>
<li><p><strong>ä»å·¥ç¨‹åˆ°ä¸šåŠ¡çš„ç»Ÿä¸€æŠ½è±¡</strong></p>
<ul>
<li>å·¥ç¨‹å±‚é¢ï¼ŒLane æ ˆè§£å†³äº†<strong>éƒ¨ç½²å¹¶å‘ä¸æ¨¡æ¿å¤ç”¨</strong>é—®é¢˜ï¼›</li>
<li>ä¸šåŠ¡å±‚é¢ï¼ŒLane æ ˆæä¾›äº†<strong>æµé‡åˆ†å±‚ä¸å‘å¸ƒæ§åˆ¶</strong>èƒ½åŠ›ï¼›</li>
<li>ä»æ¶æ„è®¾è®¡ä¸Šï¼Œè®©<strong>ç°åº¦ã€è“ç»¿ã€A/B æµ‹è¯•æˆä¸ºåŸç”Ÿç‰¹æ€§</strong>ï¼Œè€Œä¸æ˜¯é™„åŠ é€»è¾‘ã€‚</li>
</ul>
</li>
</ol>
<h2>ğŸš€ Lane é©±åŠ¨çš„å‘å¸ƒæ¨¡å¼</h2>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>æè¿°</th>
<th>å®ç°æ–¹å¼</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ç°åº¦å‘å¸ƒï¼ˆGray Releaseï¼‰</strong></td>
<td>åœ¨æ–°ç‰ˆæœ¬æ³³é“ gray ä¸­å‘å¸ƒå°‘é‡æµé‡è¿›è¡ŒéªŒè¯</td>
<td>æ–°å»º gray Lane æ ˆå¹¶éƒ¨åˆ†æµé‡æ³¨å…¥ï¼ˆheader/æ¯”ä¾‹ï¼‰</td>
</tr>
<tr>
<td><strong>è“ç»¿å‘å¸ƒï¼ˆBlue/Greenï¼‰</strong></td>
<td>ä¸¤ä¸ªç‰ˆæœ¬ï¼ˆblue / defaultï¼‰å¹¶è¡Œï¼Œæµé‡é€æ­¥åˆ‡æ¢</td>
<td>éƒ¨ç½² blue Lane æ ˆ â†’ åˆ‡æ¢æµé‡ â†’ åˆ é™¤æ—§æ ˆ</td>
</tr>
<tr>
<td><strong>A/B æµ‹è¯•ï¼ˆTraffic Splitï¼‰</strong></td>
<td>æŒ‰ headerã€cookie æˆ–ç”¨æˆ· ID ç»´åº¦è·¯ç”±ä¸åŒç‰ˆæœ¬</td>
<td>å¤šä¸ª Lane å¹¶è¡Œå­˜åœ¨ï¼ŒALB æˆ–åº”ç”¨å±‚æ§åˆ¶ header</td>
</tr>
</tbody></table>
<p>Lane æœºåˆ¶ä½¿å¾—éƒ¨ç½²é€»è¾‘ã€æµé‡ç­–ç•¥ã€å›æ»šç­–ç•¥éƒ½åœ¨æ¶æ„å±‚å¯ç¼–æ’ï¼Œè€Œä¸æ˜¯ç”±ä¸šåŠ¡ä»£ç å®ç°ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§åŸºäº <strong>CloudFormation<br>Stack ç²’åº¦çš„å¤šç‰ˆæœ¬å¹¶è¡Œæ¶æ„</strong>ï¼Œé€šè¿‡ã€Œå¤šæ ˆå¹¶è¡Œ + ç‹¬ç«‹è·¯ç”± + å‚æ•°åŒ–éƒ¨ç½²ã€å®ç°ï¼š</p>
<ul>
<li>é«˜å¹¶å‘å‘å¸ƒï¼ˆæ— é”å†²çªï¼‰</li>
<li>å¤šç‰ˆæœ¬å…±å­˜ï¼ˆç°åº¦ã€è“ç»¿ã€A/Bï¼‰</li>
<li>ä¸€é”®æ¸…ç†ä¸å›æ»š</li>
<li>æ¨¡æ¿çº§æ²»ç†ä¸å¯å®¡è®¡æ€§</li>
</ul>
<h2>ä¸‰ã€æŠ€æœ¯å®ç°ï¼šä»æ¨¡æ¿åˆ°æ‰§è¡Œ</h2>
<h3>1. BuildSpecï¼šç»Ÿä¸€å…¥å£ï¼Œé€»è¾‘å¤–ç§»</h3>
<p>æ‰€æœ‰æœåŠ¡å…±ç”¨ç»Ÿä¸€æ„å»ºæè¿°æ–‡ä»¶ <code>ci/buildspec.yaml</code>ï¼š</p>
<pre><code class="language-yaml">version: 0.2
env:
  shell: bash
  variables:
    MODULE_PATH: &quot;.&quot;                  # ç›¸å¯¹&quot;åº”ç”¨ä»“æ ¹ç›®å½•&quot;ï¼ˆAppOutï¼‰
  # è·¨ phase å˜é‡ä¼ é€’
  exported-variables:
    - ECR_REPO_URI
    - IMAGE_TAG_URI

phases:
  install:
    runtime-versions:
      java: corretto21
    commands:
      - chmod +x ci/*.sh
  pre_build:
    commands:
      - &#39;. ci/build.sh; prebuild&#39;
  build:
    commands:
      - &#39;. ci/build.sh; build&#39;
  post_build:
    commands:
      - &#39;. ci/build.sh; postbuild&#39;
artifacts:
  files:
    - cfn-params.json   # ä»ä¸»è¾“å…¥æ ¹ç›®å½•æ‰“åŒ…
</code></pre>
<p>å®é™…é€»è¾‘é›†ä¸­åœ¨ <code>ci/build.sh</code>ï¼š</p>
<pre><code class="language-bash">prebuild() {
  aws ecr get-login-password | docker login ...
}
build() {
  docker build -t $SERVICE_NAME .
  docker push $ECR_URI/$SERVICE_NAME:$IMAGE_TAG
}
postbuild() {
  echo &quot;{&quot;Parameters&quot;:{&quot;ImageUri&quot;:&quot;$ECR_URI/$SERVICE_NAME:$IMAGE_TAG&quot;}}&quot; &gt; cfn-params.json
}
</code></pre>
<p>è¿™ç§â€œè½» buildspec + é‡è„šæœ¬â€çš„ç»“æ„æå¤§å¢å¼ºäº†æ¨¡æ¿å¤ç”¨æ€§ä¸å¯å®¡è®¡æ€§ã€‚</p>
<h3>2. æ ˆè®¾è®¡ï¼šInfra â†’ Boot â†’ App</h3>
<h4>(1) Infra æ ˆï¼ˆç¯å¢ƒçº§å…±äº«ï¼‰</h4>
<pre><code class="language-yaml">Parameters:
  CreateNetwork:
    Type: String
    Default: &#39;true&#39;

Conditions:
  CreateNetworkCond: !Equals [ !Ref CreateNetwork, &#39;true&#39; ]

Resources:
  VPC:
    Type: AWS::EC2::VPC
    Condition: CreateNetworkCond

  Namespace:
    Type: AWS::ServiceDiscovery::PrivateDnsNamespace

Outputs:
  VpcId:
    Value: !Ref VPC
    Export:
      Name: !Sub &#39;infra-environment-${Env}-VpcId&#39;
</code></pre>
<p>è‹¥å·²å­˜åœ¨ç½‘ç»œï¼Œå¯è®¾ç½® <code>CreateNetwork=false</code> è¿›å…¥ Wrap æ¨¡å¼ï¼šä»…åŒ…è£…å·²æœ‰ VPC/Subnets å¹¶å¯¼å‡º IDã€‚</p>
<h4>(2) Boot æ ˆï¼ˆæœåŠ¡çº§ï¼‰</h4>
<p>è´Ÿè´£åˆ›å»ºï¼š</p>
<ul>
<li>ALB + é»˜è®¤ TargetGroup + Listenerï¼›</li>
<li>LogGroupï¼›</li>
<li>Cloud Map Serviceã€‚</li>
</ul>
<p>å¯¼å‡ºå€¼ï¼š</p>
<pre><code>boot-user-api-dev-LoadBalancerArn
boot-user-api-dev-HttpListenerArn
boot-user-api-dev-LogGroupName
boot-user-api-dev-user-api-service-arn
</code></pre>
<h4>(3) App æ ˆï¼ˆæ³³é“çº§ï¼‰</h4>
<p>åˆ›å»ºï¼š</p>
<ul>
<li>TaskDefinitionï¼›</li>
<li>ECS Serviceï¼›</li>
<li>TargetGroupï¼›</li>
<li>ListenerRuleï¼ˆHeader åŒ¹é… laneï¼‰ã€‚</li>
</ul>
<pre><code class="language-yaml">Conditions:
  IsGray: !Equals [ !Ref Lane, &#39;gray&#39; ]
LaneRule:
  Type: AWS::ElasticLoadBalancingV2::ListenerRule
  Properties:
    ListenerArn: !ImportValue boot-${ServiceName}-${Env}-HttpListenerArn
    Priority: 1000
    Conditions:
      - Field: http-header
        HttpHeaderConfig:
          HttpHeaderName: tracestate
          Values: [ !Sub &#39;ctx=lane:${Lane}&#39; ]
    Actions:
      - Type: forward
        TargetGroupArn: !Ref LaneTargetGroup
</code></pre>
<h2>å››ã€å‚æ•°ä¸æƒé™ï¼šé—­ç¯ä¸æœ€å°æˆæƒ</h2>
<h3>1. å‚æ•°é—­ç¯</h3>
<pre><code class="language-bash"># Pipeline è§¦å‘å˜é‡
LANE=gray BRANCH=release/1.2.3

# CodeBuild ç¯å¢ƒå˜é‡
SERVICE_NAME=user-api APP_ENV=dev

# è¾“å‡ºå‚æ•°æ–‡ä»¶
{
  &quot;Parameters&quot;: {
    &quot;ServiceName&quot;: &quot;user-api&quot;,
    &quot;Env&quot;: &quot;dev&quot;,
    &quot;Lane&quot;: &quot;gray&quot;,
    &quot;ImageUri&quot;: &quot;xxx.dkr.ecr.ap-southeast-2.amazonaws.com/user-api:sha-abc123&quot;
  }
}
</code></pre>
<h3>2. æƒé™è¾¹ç•Œ</h3>
<p>App Pipeline çš„ IAM ç­–ç•¥ï¼š</p>
<pre><code class="language-json">[
  {
    &quot;Effect&quot;: &quot;Allow&quot;,
    &quot;Action&quot;: &quot;cloudformation:*&quot;,
    &quot;Resource&quot;: &quot;arn:aws:cloudformation:*:*:stack/app-*/*&quot;
  },
  {
    &quot;Effect&quot;: &quot;Deny&quot;,
    &quot;Action&quot;: &quot;cloudformation:*&quot;,
    &quot;Resource&quot;: [
      &quot;arn:aws:cloudformation:*:*:stack/boot-*/*&quot;,
      &quot;arn:aws:cloudformation:*:*:stack/infra-environment-*/*&quot;
    ]
  }
]
</code></pre>
<p>Stack Policy ä¿æŠ¤ï¼š</p>
<ul>
<li>ç¦æ­¢ä¿®æ”¹ Boot æ ˆ Listenerã€è¯ä¹¦ï¼›</li>
<li>ç¦æ­¢åˆ é™¤ Infra æ ˆç½‘ç»œèµ„æºã€‚</li>
</ul>
<h2>äº”ã€æµé‡è·¯ç”±ä¸ç°åº¦ç­–ç•¥</h2>
<h3>1. Trace Context é©±åŠ¨çš„æ™ºèƒ½è·¯ç”±</h3>
<p>ç³»ç»Ÿéµå¾ª W3C Trace Context æ ‡å‡†ï¼Œåœ¨ tracestate ä¸­æ³¨å…¥ lane ä¿¡æ¯ï¼š</p>
<pre><code>tracestate: ctx=lane:gray
</code></pre>
<p>ALB æŒ‰ Header åŒ¹é…ï¼š</p>
<ul>
<li>å‘½ä¸­ â†’ è½¬å‘åˆ°å¯¹åº” TGï¼›</li>
<li>æœªå‘½ä¸­ â†’ å›é€€è‡³ default TGã€‚</li>
</ul>
<h3>2. å…¸å‹ç°åº¦æµç¨‹</h3>
<ol>
<li>è§¦å‘æ–° Laneï¼š<code>LANE=gray</code></li>
<li>å‘å¸ƒ <code>app-user-api-dev-gray</code></li>
<li>å°æµé‡ Header å¯¼å…¥ grayï¼›</li>
<li>éªŒè¯ç¨³å®šåï¼Œå°† gray å‡çº§ä¸º defaultï¼›</li>
<li>åˆ é™¤æ—§ Lane æ ˆã€‚</li>
</ol>
<p>æ•´ä¸ªæµç¨‹æ— é¡»æ”¹ ALB æˆ–å…±äº«å±‚ï¼Œå®Œå…¨è‡ªåŠ¨åŒ–ã€‚</p>
<h2>å…­ã€å¯è§‚æµ‹æ€§ä¸å›æ»šæœºåˆ¶</h2>
<h3>1. æ—¥å¿—èšåˆ</h3>
<p>æ¯ä¸ªæœåŠ¡åœ¨ Boot æ ˆåˆ›å»º <code>/ecs/{env}/{service}</code> LogGroupï¼›<br>æ¯ Lane ä½¿ç”¨ç‹¬ç«‹ <code>stream-prefix={lane}</code>ï¼Œå®ç°å¤šç»´æ£€ç´¢ã€‚</p>
<h3>2. è‡ªåŠ¨å›æ»š</h3>
<p>ECS Deployment Circuit Breaker è‡ªåŠ¨æ£€æµ‹ï¼š</p>
<ul>
<li>éƒ¨ç½²å¤±è´¥æ—¶å›æ»šè‡³ä¸Šä¸ª TaskRevisionï¼›</li>
<li>å‘å¸ƒè„šæœ¬æ”¯æŒä¸€é”®é‡å‘ä¸Šä¸ªé•œåƒæ ‡ç­¾ã€‚</li>
</ul>
<h3>3. ç›‘æ§æŒ‡æ ‡</h3>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>æŒ‡æ ‡</th>
<th>å‘Šè­¦æ¡ä»¶</th>
</tr>
</thead>
<tbody><tr>
<td>ALB</td>
<td>HTTPCode_Target_5XX_Count</td>
<td>&gt; 1%</td>
</tr>
<tr>
<td>ECS</td>
<td>RunningCount &lt; DesiredCount</td>
<td>è¿ç»­ 3 æ¬¡</td>
</tr>
<tr>
<td>TG</td>
<td>HealthyHostCount</td>
<td>&lt; 1</td>
</tr>
</tbody></table>
<h2>ä¸ƒã€å®æ–½ä¸ä»·å€¼</h2>
<p>ä¸‹é¢å±•ç¤ºå¦‚ä½•åŸºäº AWS CloudFormation å’Œ CodePipeline éƒ¨ç½²å¤šå±‚æŒç»­äº¤ä»˜ä½“ç³»ï¼Œ å¹¶é€šè¿‡ JSON æ–‡ä»¶å®šä¹‰æ¨¡æ¿å‚æ•°ï¼Œå®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸å‚æ•°å¯å®¡è®¡ã€‚</p>
<h3>1. éƒ¨ç½²pipelineï¼ˆä¸€æ¬¡æ€§ï¼‰</h3>
<pre><code class="language-bash"># ç¯å¢ƒçº§ï¼ˆä¸€æ¬¡æ€§éƒ¨ç½²ï¼‰
aws cloudformation deploy \
  --template-file ci/infra/pipeline.yaml \
  --stack-name infra-dev \
  --parameter-overrides file://params/infra-dev.json

# æœåŠ¡æ¥å…¥å±‚ bootï¼ˆä¸€æ¬¡æ€§éƒ¨ç½²ï¼Œé€šç”¨ pipelineï¼‰
aws cloudformation deploy \
  --template-file ci/boot/pipeline.yaml \
  --stack-name bootstrap-dev \
  --parameter-overrides file://params/bootstrap-dev.json

# åº”ç”¨å±‚ appï¼ˆæ¯ä¸ªæœåŠ¡ç‹¬ç«‹ä¸€æ¡ pipelineï¼‰
aws cloudformation deploy \
  --template-file ci/app/pipeline.yaml \
  --stack-name user-api-dev \
  --parameter-overrides file://params/user-api-dev.json
</code></pre>
<h3>2. å‚æ•°æ–‡ä»¶</h3>
<p>æ¯ä¸ªé˜¶æ®µéƒ½åœ¨ params/ ç›®å½•ä¸‹å®šä¹‰ç‹¬ç«‹ JSON å‚æ•°æ–‡ä»¶ï¼ŒæŒ‰è§„èŒƒåŒºåˆ†ç¯å¢ƒã€æœåŠ¡ä¸æ³³é“ï¼š</p>
<table>
<thead>
<tr>
<th>å±‚çº§</th>
<th>å‚æ•°æ–‡ä»¶</th>
<th>ç¤ºä¾‹</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td>ç¯å¢ƒçº§</td>
<td><code>infra-{env}.json</code></td>
<td><code>infra-dev.json</code></td>
<td>åŸºç¡€è®¾æ–½å‚æ•°ï¼Œå®šä¹‰åŸºç¡€ç½‘ç»œã€VPCã€Subnetã€Clusterã€Namespace ç­‰é€šç”¨èµ„æºã€‚</td>
</tr>
<tr>
<td>æœåŠ¡çº§</td>
<td><code>boot-{env}.json</code></td>
<td><code>boot-dev.json</code></td>
<td>æœåŠ¡å¼•å¯¼å‚æ•°ï¼Œé€šè¿‡è¿è¡Œæ—¶å˜é‡ <code>SERVICE</code> æ¥åŠ¨æ€åˆ›å»ºå„æœåŠ¡çš„ ALBã€LogGroupã€Cloud Map</td>
</tr>
<tr>
<td>åº”ç”¨çº§</td>
<td><code>{service}-{env}.json</code></td>
<td><code>user-api-dev.json</code></td>
<td>åº”ç”¨å±‚å‚æ•°ï¼Œæ¯ä¸ªæœåŠ¡ä¸€ä»½ç‹¬ç«‹å‚æ•°æ–‡ä»¶ï¼Œæ”¯æŒé€šè¿‡SERVICEã€LANEã€BRANCH å˜é‡æ§åˆ¶æ³³é“éƒ¨ç½²ä¸é•œåƒç‰ˆæœ¬ã€‚</td>
</tr>
</tbody></table>
<blockquote>
<p>è¿™ç§å‘½åçº¦å®šä¾¿äºç‰ˆæœ¬åŒ–ä¸å®¡è®¡ï¼Œä¹Ÿå¯åœ¨ CodePipeline ä¸­åŠ¨æ€é€‰æ‹©ã€‚æ‰€æœ‰å‚æ•°æ–‡ä»¶ç»Ÿä¸€å­˜æ”¾åœ¨ <code>params/</code> ç›®å½•ä¸­ï¼Œå¹¶çº³å…¥ Git ç‰ˆæœ¬ç®¡ç†ï¼Œ<br>ä¾¿äºåœ¨ä¸åŒç¯å¢ƒé—´å¤ç”¨ã€å®¡è®¡ã€å›æ»šä¸è‡ªåŠ¨åŒ–ç”Ÿæˆã€‚</p>
</blockquote>
<h3>3. æœåŠ¡å¼•å¯¼ï¼ˆæœåŠ¡çº§å…±äº«èµ„æºï¼‰</h3>
<p>åœ¨éƒ¨ç½² <strong>åº”ç”¨å±‚ pipeline</strong>ï¼ˆå¦‚ <code>user-api-dev</code>ï¼‰ä¹‹å‰ï¼Œå¿…é¡»å…ˆè§¦å‘ä¸€æ¬¡<strong>boot å±‚é€šç”¨ pipelineï¼ˆboot-{env}ï¼‰</strong>ï¼Œä»¥åˆ›å»ºè¯¥æœåŠ¡çš„å…±äº«æ¥å…¥èµ„æºï¼š</p>
<ul>
<li>ALB TargetGroup</li>
<li>Cloud Map Service</li>
<li>LogGroup</li>
<li>é»˜è®¤ ListenerRule</li>
</ul>
<p>è¿™äº›èµ„æºç”± boot å±‚é›†ä¸­ç®¡ç†ï¼Œæ‰€æœ‰åº”ç”¨å±‚æ³³é“ï¼ˆå¦‚ grayã€blueã€defaultï¼‰éƒ½ä¼šå¤ç”¨ï¼Œå› æ­¤å¿…é¡»ä¿è¯è¯¥é˜¶æ®µå…ˆäº <strong>app pipeline</strong> æ‰§è¡Œã€‚</p>
<pre><code class="language-bash"># ä½¿ç”¨ bootstrap-dev pipelineï¼Œé€šè¿‡ SERVICE å‚æ•°åˆ›å»ºæœåŠ¡æ¥å…¥èµ„æº
aws codepipeline start-pipeline-execution \
  --name boot-dev \
  --variables name=SERVICE,value=user-api
</code></pre>
<h3>4. å‘å¸ƒä¸æ³³é“ç®¡ç†ï¼ˆapp å±‚ï¼‰</h3>
<pre><code class="language-bash"># å‘å¸ƒåˆ° gray æ³³é“
aws codepipeline start-pipeline-execution \
  --name user-api-dev \
  --variables name=SERVICE,value=user-api \
              name=LANE,value=gray \
              name=BRANCH,value=release/1.2.3

# åˆ é™¤ gray æ³³é“ï¼ˆè‡ªåŠ¨å›æ”¶ TG/ListenerRule/ECS Serviceï¼‰
aws cloudformation delete-stack \
  --stack-name app-user-api-dev-gray
</code></pre>
<h3>3. ä»·å€¼æ€»ç»“</h3>
<ul>
<li>ä½¿ç”¨ <code>params/</code> ç›®å½•é›†ä¸­å­˜æ”¾æ¨¡æ¿å‚æ•°ï¼Œé…åˆ Git ç‰ˆæœ¬ç®¡ç†ã€‚</li>
<li>å‚æ•°æ–‡ä»¶ä¸æ¨¡æ¿è§£è€¦ï¼Œæ–¹ä¾¿åœ¨ä¸åŒç¯å¢ƒé—´å¤ç”¨ç›¸åŒæ¨¡æ¿ã€‚</li>
<li>é€šè¿‡ CodePipeline çš„å˜é‡å‚æ•°ï¼ˆå¦‚ <code>SERVICE</code>ã€<code>LANE</code>ã€<code>BRANCH</code>ï¼‰æ§åˆ¶å‘å¸ƒç²’åº¦ã€‚</li>
<li>åˆ é™¤æ³³é“æ—¶åªéœ€åˆ é™¤å¯¹åº” Stackï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å›æ”¶èµ„æºã€‚</li>
<li>åœ¨å¤šæ³³é“éƒ¨ç½²ä¸­ä¿æŒå‘½åä¸€è‡´æ€§ä¸å‚æ•°è§„èŒƒï¼Œç¡®ä¿å„å±‚ä¹‹é—´å¯å®¡è®¡ã€å¯è¿½æº¯ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>æˆæœ</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æŠ€æœ¯</strong></td>
<td>æ— é”å¹¶å‘éƒ¨ç½²ã€æ¨¡æ¿é›†ä¸­æ²»ç†ã€æ™ºèƒ½æµé‡è·¯ç”±</td>
</tr>
<tr>
<td><strong>è¿ç»´</strong></td>
<td>é›¶äººå·¥æ³³é“åˆ‡æ¢ã€æ ‡å‡†åŒ–ç›‘æ§ä¸è‡ªåŠ¨å›æ»š</td>
</tr>
<tr>
<td><strong>ä¸šåŠ¡</strong></td>
<td>å¿«é€Ÿç°åº¦ / è“ç»¿ / A/B æµ‹è¯•ï¼Œæ˜¾è‘—ç¼©çŸ­å‘å¸ƒå‘¨æœŸ</td>
</tr>
<tr>
<td><strong>æ²»ç†</strong></td>
<td>æ¨¡æ¿åˆè§„é›†ä¸­ã€æƒé™æœ€å°åŒ–ã€æ ˆä¿æŠ¤æœºåˆ¶ï¼Œæ”¯æŒç»Ÿä¸€å®¡è®¡</td>
</tr>
</tbody></table>
<blockquote>
<p>âœ… é€šè¿‡ä»¥ä¸Šå®è·µï¼Œæ•´ä¸ª CI/CD ä½“ç³»å®ç°äº†æ¨¡æ¿åŒ–ã€å‚æ•°åŒ–ã€è‡ªåŠ¨åŒ–ã€å¯æ²»ç†åŒ–ï¼Œ<br>è®©â€œå¤šæ³³é“é«˜å¹¶å‘äº¤ä»˜â€æˆä¸ºä¸€ç§å·¥ç¨‹æ ‡å‡†ï¼Œè€Œéå¤æ‚ç‰¹ä¾‹ã€‚</p>
</blockquote>
<h2>ç»“è¯­ï¼šä»æµç¨‹åˆ°ä½“ç³»</h2>
<p>è¯¥æ¶æ„çš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œè®© CI/CD è‡ªæ²»ï¼Œè€Œéä¾èµ–äººæ²»â€ï¼Œé€šè¿‡ï¼š</p>
<ul>
<li>æ¨¡æ¿é›†ä¸­æ²»ç†ï¼ˆInfra Repoï¼‰</li>
<li>ä¸šåŠ¡ä»“ç‹¬ç«‹æ¼”è¿›ï¼ˆApp Repoï¼‰</li>
<li>Pipeline åˆ†å±‚è§£è€¦</li>
<li>Lane æ ˆçº§å¹¶å‘éš”ç¦»</li>
</ul>
<p>æˆ‘ä»¬ä¸ä»…åœ¨å·¥ç¨‹ä¸Šè§£å†³äº†å¹¶å‘å†²çªå’Œç°åº¦å¤æ‚åº¦ï¼Œ æ›´åœ¨ç»„ç»‡å±‚é¢å»ºç«‹äº† DevOps æ¨¡æ¿çš„ç»Ÿä¸€â€œåŸºå»ºå±‚â€ã€‚<br><strong>DevOps æ¨¡æ¿ä¸å†æ˜¯è„šæœ¬é›†åˆï¼Œè€Œæ˜¯æœåŠ¡åŒ–çš„åŸºç¡€è®¾æ–½ã€‚</strong></p>
</div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><div class="mt-12 pt-8 border-t border-gray-200">åŠ è½½å¯¼èˆªä¸­...</div><!--/$--><div class="mt-16 border-t border-gray-200 pt-8"><div class="mx-auto max-w-3xl"><h3 class="text-2xl font-bold text-gray-900 mb-8">è¯„è®º</h3></div></div></div></div></article><!--$--><!--/$--></main><footer class="bg-[var(--background)]"><div class="mx-auto max-w-7xl px-6 py-12 md:flex md:items-center md:justify-between lg:px-8"><div class="flex justify-center space-x-6 md:order-2"><a class="text-gray-600 hover:text-gray-800" href="/about/">å…³äº</a><a class="text-gray-600 hover:text-gray-800" href="/blog/">åšå®¢</a><a class="text-gray-600 hover:text-gray-800" href="/contact/">è”ç³»</a></div><div class="mt-8 md:order-1 md:mt-0"><p class="text-center text-xs leading-5 text-gray-600">Â© 2024 Skyfalling Blog. All rights reserved.</p></div></div></footer></div><script src="/_next/static/chunks/webpack-42d55485b4428e47.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[10616,[\"6874\",\"static/chunks/6874-7791217feaf05c17.js\",\"7177\",\"static/chunks/app/layout-51baccc14cf1da9e.js\"],\"default\"]\n3:I[87555,[],\"\"]\n4:I[31295,[],\"\"]\n5:I[6874,[\"6874\",\"static/chunks/6874-7791217feaf05c17.js\",\"968\",\"static/chunks/968-d7155a2506e36f1d.js\",\"6909\",\"static/chunks/app/blog/%5B...slug%5D/page-3137b04d8f9ed325.js\"],\"\"]\n7:I[59665,[],\"OutletBoundary\"]\na:I[74911,[],\"AsyncMetadataOutlet\"]\nc:I[59665,[],\"ViewportBoundary\"]\ne:I[59665,[],\"MetadataBoundary\"]\n10:I[26614,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/62d123c7e24ed574.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"SjhyJ1wQXatABkSapqO2x\",\"p\":\"\",\"c\":[\"\",\"blog\",\"technique\",\"practice\",\"AWS%E5%A4%9A%E6%B3%B3%E9%81%93%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98%E5%AE%9E%E8%B7%B5\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"technique/practice/AWS%E5%A4%9A%E6%B3%B3%E9%81%93%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98%E5%AE%9E%E8%B7%B5\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/62d123c7e24ed574.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"zh-CN\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_f367f3\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex flex-col\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"bg-[var(--background)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl px-6 py-12 md:flex md:items-center md:justify-between lg:px-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex justify-center space-x-6 md:order-2\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/about\",\"className\":\"text-gray-600 hover:text-gray-800\",\"children\":\"å…³äº\"}],[\"$\",\"$L5\",null,{\"href\":\"/blog\",\"className\":\"text-gray-600 hover:text-gray-800\",\"children\":\"åšå®¢\"}],[\"$\",\"$L5\",null,{\"href\":\"/contact\",\"className\":\"text-gray-600 hover:text-gray-800\",\"children\":\"è”ç³»\"}]]}],[\"$\",\"div\",null,{\"className\":\"mt-8 md:order-1 md:mt-0\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-center text-xs leading-5 text-gray-600\",\"children\":\"Â© 2024 Skyfalling Blog. All rights reserved.\"}]}]]}]}]]}]}]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"technique/practice/AWS%E5%A4%9A%E6%B3%B3%E9%81%93%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98%E5%AE%9E%E8%B7%B5\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"r7GgGm2EscK0e8azpH9XLv\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:\"$Sreact.suspense\"\n12:I[74911,[],\"AsyncMetadata\"]\n14:I[32923,[\"6874\",\"static/chunks/6874-7791217feaf05c17.js\",\"968\",\"static/chunks/968-d7155a2506e36f1d.js\",\"6909\",\"static/chunks/app/blog/%5B...slug%5D/page-3137b04d8f9ed325.js\"],\"default\"]\n16:I[40780,[\"6874\",\"static/chunks/6874-7791217feaf05c17.js\",\"968\",\"static/chunks/968-d7155a2506e36f1d.js\",\"6909\",\"static/chunks/app/blog/%5B...slug%5D/page-3137b04d8f9ed325.js\"],\"default\"]\n18:I[85300,[\"6874\",\"static/chunks/6874-7791217feaf05c17.js\",\"968\",\"static/chunks/968-d7155a2506e36f1d.js\",\"6909\",\"static/chunks/app/blog/%5B...slug%5D/page-3137b04d8f9ed325.js\"],\"default\"]\nf:[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$11\",null,{\"fallback\":null,\"children\":[\"$\",\"$L12\",null,{\"promise\":\"$@13\"}]}]}]\n15:T5dce,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003e\n\u003cp\u003eæœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº \u003cstrong\u003eAWS CodePipeline + CloudFormation\u003c/strong\u003e æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„\u003cstrong\u003eECS æŒç»­äº¤ä»˜ä½“ç³»\u003c/strong\u003eã€‚\u003cbr\u003eè¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eä¸€ã€èƒŒæ™¯ä¸ç—›ç‚¹ï¼šå½“ DevOps æ¨¡æ¿å¤±æ§\u003c/h2\u003e\n\u003cp\u003eåœ¨å¤šæ•°å¾®æœåŠ¡é¡¹ç›®ä¸­ï¼Œéšç€æœåŠ¡æ•°é‡å¢åŠ ã€ç¯å¢ƒå±‚æ¬¡å¤æ‚åŒ–ï¼ŒCI/CD æ¨¡æ¿å¾€å¾€ä¼šå¤±æ§ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå„æœåŠ¡ä»“åº“å†…å„è‡ªç»´æŠ¤ä¸€ä»½ buildspecã€pipelineã€CFN æ¨¡æ¿ï¼›\u003c/li\u003e\n\u003cli\u003eæ¨¡æ¿æ›´æ–°æ— æ³•ç»Ÿä¸€å‘å¸ƒï¼›\u003c/li\u003e\n\u003cli\u003eèµ„æºå‘½åä¸å¯¼å‡ºä¸ä¸€è‡´ï¼›\u003c/li\u003e\n\u003cli\u003eå¤šæ³³é“éƒ¨ç½²ï¼ˆå¦‚ç°åº¦ã€è“ç»¿ï¼‰å­˜åœ¨æ ˆçº§é”å†²çªï¼›\u003c/li\u003e\n\u003cli\u003eæ¨¡æ¿åˆè§„æ€§æ— æ³•é›†ä¸­å®¡è®¡ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eé—®é¢˜æœ¬è´¨ï¼š\u003c/strong\u003e DevOps æ¨¡æ¿åˆ†æ•£ï¼Œéš¾ä»¥ç»Ÿä¸€æ¼”è¿›ä¸æ²»ç†ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå…·å¤‡â€œé›†ä¸­æ¨¡æ¿æ²»ç† + å¹¶å‘éƒ¨ç½²èƒ½åŠ›â€çš„ä½“ç³»ï¼š\u003cbr\u003e\u003cstrong\u003eåŒä»“ + ä¸‰å±‚ Pipeline + Lane æ ˆéš”ç¦»\u003c/strong\u003eï¼Œä¸‹å›¾å±•ç¤ºäº†å¤šæ³³é“ CI/CD çš„åˆ†å±‚æ¶æ„è®¾è®¡ã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-mermaid\"\u003eflowchart TB\n  subgraph InfraRepo[\u0026quot;Infra Repoï¼ˆDevOps æ¨¡æ¿ä»“ï¼‰\u0026quot;]\n    A1[buildspec.yaml]\n    A2[pipeline.yaml]\n    A3[service-stack.yaml]\n  end\n\n  subgraph AppRepo[\u0026quot;App Repoï¼ˆä¸šåŠ¡ä»£ç ä»“ï¼‰\u0026quot;]\n    B1[\u0026quot;src/\u0026quot;]\n    B2[Dockerfile]\n  end\n\n  A1 --\u0026gt;|åŒæºè¾“å…¥| P1[\u0026quot;AWS CodePipeline\u0026quot;]\n  B1 --\u0026gt;|åŒæºè¾“å…¥| P1\n  B2 --\u0026gt; P1\n\n  subgraph PipelineLayer[\u0026quot;Pipeline å±‚\u0026quot;]\n    direction TB\n    P2[\u0026quot;Infra Pipeline (infra-{env})\u0026quot;]\n    P3[\u0026quot;Bootstrap Pipeline (bootstrap-{env})\u0026quot;]\n    P4[\u0026quot;App Pipeline ({service}-{env}-{lane})\u0026quot;]\n  end\n\n  P1 --\u0026gt; P2 --\u0026gt; P3 --\u0026gt; P4\n\n  subgraph ResourceLayer[\u0026quot;CloudFormation æ ˆå±‚\u0026quot;]\n    direction LR\n    C1[\u0026quot;Infra Stack\\n(VPC, Subnets, Namespace)\u0026quot;]\n    C2[\u0026quot;Boot Stack\\n(ALB, LogGroup, Cloud Map Service)\u0026quot;]\n    C3[\u0026quot;App Lane Stack\\n(TaskDef, ECS Service, TG, ListenerRule)\u0026quot;]\n  end\n\n  P4 --\u0026gt;|ImportValue| C3\n  P3 --\u0026gt;|å¯¼å‡ºå…±äº«èµ„æº| C2\n  P2 --\u0026gt;|å¯¼å‡ºå…±äº«èµ„æº| C1\n\n  subgraph Traffic[\u0026quot;æ™ºèƒ½æµé‡è·¯ç”±\u0026quot;]\n    direction TB\n    T1[\u0026quot;ALB ListenerRule\u0026quot;]\n    T2[\u0026quot;TargetGroup (lane=gray)\u0026quot;]\n    T3[\u0026quot;TargetGroup (lane=blue)\u0026quot;]\n    T4[\u0026quot;TargetGroup (default)\u0026quot;]\n  end\n  C3 --\u0026gt; T1 --\u0026gt; T2 \u0026amp; T3 \u0026amp; T4\n\n  classDef repo fill:#E6F0FF,stroke:#6D8FFF;\n  classDef pipe fill:#FFF6E1,stroke:#FFB200;\n  classDef res fill:#E8FFE8,stroke:#40C057;\n  classDef traf fill:#FBE9E7,stroke:#E57373;\n\n  class InfraRepo,AppRepo repo;\n  class P1,P2,P3,P4 pipe;\n  class C1,C2,C3 res;\n  class T1,T2,T3,T4 traf;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eäºŒã€æ ¸å¿ƒç†å¿µï¼šåŒä»“ + ä¸‰å±‚ + Lane æ ˆ\u003c/h2\u003e\n\u003cp\u003eæ•´ä¸ªä½“ç³»çš„è®¾è®¡æ ¸å¿ƒæ˜¯ä¸‰ä¸ªå…³é”®è¯ï¼š\u003cstrong\u003eåŒä»“ã€åˆ†å±‚ã€æ³³é“ï¼ˆLaneï¼‰\u003c/strong\u003eã€‚\u003c/p\u003e\n\u003ch3\u003e1. åŒä»“æ¶æ„ï¼šé€»è¾‘åˆ†æ²»\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eä»“åº“ç±»å‹\u003c/th\u003e\n\u003cth\u003eå†…å®¹èŒè´£\u003c/th\u003e\n\u003cth\u003eç¤ºä¾‹\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eInfra Repo\u003c/td\u003e\n\u003ctd\u003eç»Ÿä¸€çš„ DevOps æ¨¡æ¿ã€buildspecã€CFN æ ˆæ¨¡æ¿ã€è„šæœ¬å·¥å…·\u003c/td\u003e\n\u003ctd\u003eci/buildspec.yaml, ci/app/templates/service-stack.yaml\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eApp Repo\u003c/td\u003e\n\u003ctd\u003eä¸šåŠ¡ä»£ç ä¸é…ç½®ã€Dockerfileã€æœåŠ¡é€»è¾‘\u003c/td\u003e\n\u003ctd\u003esrc/, Dockerfile\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eå®ç°æœºåˆ¶ï¼š\u003cstrong\u003eåŒæºè¾“å…¥ï¼ˆDual-Source Inputsï¼‰\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eåœ¨ Pipeline çš„ Source é˜¶æ®µè¾“å‡ºä¸¤ä¸ª Artifactï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eName: InfraSource â†’ OutputArtifacts: [InfraOut]\u003c/li\u003e\n\u003cli\u003eName: AppSource â†’ OutputArtifacts: [AppOut]\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eBuild é˜¶æ®µä»¥ InfraOut ä¸ºä¸»è¾“å…¥ï¼ˆå«ç»Ÿä¸€ buildspecï¼‰ï¼ŒAppOut ä¸ºå‰¯è¾“å…¥ï¼ˆå«ä¸šåŠ¡ä»£ç ï¼‰ã€‚\u003cbr\u003eCodeBuild ä¼šè‡ªåŠ¨æŒ‚è½½ç¯å¢ƒå˜é‡ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e$CODEBUILD_SRC_DIR\u003c/code\u003e â†’ InfraOut\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e$CODEBUILD_SRC_DIR_AppOut\u003c/code\u003e â†’ AppOut\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eè¿™æ ·ï¼Œæ‰€æœ‰æœåŠ¡å…±ç”¨ä¸€å¥— CI/CD æ¨¡æ¿ï¼ŒDevOps å›¢é˜Ÿç»Ÿä¸€ç»´æŠ¤ï¼ŒApp å›¢é˜Ÿåªå…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚\u003c/p\u003e\n\u003ch3\u003e2. ä¸‰å±‚ Pipeline æ¶æ„ï¼šèŒè´£åˆ†å±‚ + æ— é”éƒ¨ç½²\u003c/h3\u003e\n\u003cp\u003eæ•´ä¸ªç³»ç»Ÿé€šè¿‡ \u003cstrong\u003eä¸‰å±‚ Pipeline æ¶æ„\u003c/strong\u003e å®ç°éƒ¨ç½²è§£è€¦ä¸å¹¶è¡ŒåŒ–ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003einfra å±‚\u003c/strong\u003eï¼šè´Ÿè´£ç¯å¢ƒé€šç”¨åŸºç¡€è®¾æ–½ï¼ˆVPCã€å­ç½‘ã€ECS Clusterã€Cloud Map å‘½åç©ºé—´ï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eboot å±‚\u003c/strong\u003eï¼šç»Ÿä¸€ç®¡ç†è´Ÿè½½å‡è¡¡ã€æ—¥å¿—ã€æ³¨å†Œå‘ç°ç­‰\u003cstrong\u003eæœåŠ¡æ¥å…¥è®¾æ–½\u003c/strong\u003eã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eapp å±‚\u003c/strong\u003eï¼šè´Ÿè´£å…·ä½“æœåŠ¡çš„æ³³é“çº§éƒ¨ç½²ï¼ˆTaskDefinitionã€ECS Serviceã€ListenerRuleï¼‰ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå±‚çº§\u003c/th\u003e\n\u003cth\u003ePipeline å‘½å\u003c/th\u003e\n\u003cth\u003eç®¡ç†èµ„æº\u003c/th\u003e\n\u003cth\u003ePipeline å˜é‡\u003c/th\u003e\n\u003cth\u003eæ›´æ–°é¢‘ç‡\u003c/th\u003e\n\u003cth\u003eå¹¶å‘ç‰¹æ€§\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eç¯å¢ƒçº§\u003c/td\u003e\n\u003ctd\u003einfra-{env}\u003c/td\u003e\n\u003ctd\u003eVPCã€Subnetsã€ECS Clusterã€Cloud Map Namespace\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eENV=dev\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eå‡ ä¹ä¸å˜\u003c/td\u003e\n\u003ctd\u003eç‹¬ç«‹è¿è¡Œ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eæœåŠ¡çº§\u003c/td\u003e\n\u003ctd\u003eboot-{env}\u003c/td\u003e\n\u003ctd\u003eALBã€LogGroupã€Cloud Map Service\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eENV=dev,SERVICE=user-api\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eæ–°æœåŠ¡æ¥å…¥\u003c/td\u003e\n\u003ctd\u003eæŒ‰æœåŠ¡å¹¶è¡Œ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eåº”ç”¨çº§\u003c/td\u003e\n\u003ctd\u003e{service}-{env}\u003c/td\u003e\n\u003ctd\u003eTaskDefinitionã€ECS Serviceã€TGã€ListenerRule\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eENV=dev,SERVICE=user-api,LANE=gray\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eé«˜é¢‘å‘å¸ƒ\u003c/td\u003e\n\u003ctd\u003eæŒ‰æ³³é“å¹¶è¡Œ\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eå…¶ä¸­ï¼Œ\u003ccode\u003ebootstrap-{env}\u003c/code\u003e æ˜¯\u003cstrong\u003eæŒ‰ç¯å¢ƒèšåˆçš„é€šç”¨æœåŠ¡å±‚\u003c/strong\u003eï¼Œè€ŒéæŒ‰æœåŠ¡æ‹†åˆ†ã€‚å®ƒæœ¬èº«ä¸ç»‘å®šå•ä¸€æœåŠ¡ï¼Œè€Œæ˜¯é€šè¿‡ \u003cstrong\u003ePipeline\u003cbr\u003eå˜é‡ \u003ccode\u003eSERVICE\u003c/code\u003e\u003c/strong\u003e\u003cbr\u003eåŠ¨æ€ç”ŸæˆæœåŠ¡ç›¸å…³èµ„æºã€‚\u003c/p\u003e\n\u003cp\u003eç³»ç»Ÿåˆ†å±‚è®¾è®¡çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºï¼š\u003cstrong\u003eéƒ¨ç½²äº’ä¸åŠ é”ã€å¹¶å‘å¤©ç„¶å®‰å…¨ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003ch4\u003eğŸ”¹ æ ˆçº§å¹¶è¡Œçš„æ ¸å¿ƒé€»è¾‘\u003c/h4\u003e\n\u003cp\u003eCloudFormation çš„é”ç²’åº¦æ˜¯ \u003cstrong\u003eStack çº§åˆ«\u003c/strong\u003eã€‚\u003cbr\u003eç³»ç»Ÿé€šè¿‡â€œåˆ†å±‚ + å¤šæ ˆ + å‘½åéš”ç¦»â€çš„æ–¹å¼å®ç°ä»¥ä¸‹ç‰¹æ€§ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eåŒå±‚å¯å¹¶è¡Œ\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ¯ä¸ªç¯å¢ƒï¼ˆinfraï¼‰ã€æœåŠ¡ï¼ˆbootï¼‰ã€æ³³é“ï¼ˆapp-laneï¼‰éƒ½å¯¹åº”ç‹¬ç«‹çš„ Stackã€‚\u003c/li\u003e\n\u003cli\u003eä¸åŒ Stack çš„èµ„æºå‘½åä¸å†™é›†å®Œå…¨éš”ç¦»ï¼Œå› æ­¤å¯ä»¥\u003cstrong\u003eåŒæ—¶æ‰§è¡Œæ›´æ–°\u003c/strong\u003eï¼Œäº’ä¸åŠ é”ã€‚\u003c/li\u003e\n\u003cli\u003eä¾‹å¦‚å¤šä¸ªæ³³é“ï¼ˆgrayã€blueã€defaultï¼‰åœ¨åŒä¸€æœåŠ¡ä¸‹å¯å¹¶è¡Œéƒ¨ç½²ï¼Œå„è‡ªå ç”¨è‡ªå·±çš„ Stack é”ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eè·¨å±‚æœ‰åº\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eä¸Šå±‚ Pipeline ä»…\u003cstrong\u003eä¾èµ–ä¸‹å±‚çš„å¯¼å‡ºå€¼ï¼ˆOutputs/ImportValueï¼‰\u003c/strong\u003eï¼Œä¸ä¼šä¿®æ”¹ä¸‹å±‚èµ„æºã€‚\u003c/li\u003e\n\u003cli\u003eè¿™æ„å‘³ç€ï¼š\u003cul\u003e\n\u003cli\u003e\u003ccode\u003einfra\u003c/code\u003e æ ˆå…ˆåˆ›å»ºç½‘ç»œä¸é›†ç¾¤å¹¶å¯¼å‡ºï¼›\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eboot\u003c/code\u003e æ ˆè¯»å–å¯¼å‡ºåˆ›å»º ALBã€Serviceï¼›\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eapp\u003c/code\u003e æ ˆè¯»å– ListenerArnã€TargetGroup ç­‰ä¿¡æ¯å®Œæˆå‘å¸ƒã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eä¾èµ–æœ‰åºä½†æ— å†™å†²çª\u003c/strong\u003eï¼Œä¸‹å±‚æ›´æ–°å®Œå³å¯è¢«ä¸Šå±‚å®‰å…¨å¼•ç”¨ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eæ•´ä½“æ•ˆæœï¼šå¹¶è¡Œ + æ— é” + å¯æ§ä¾èµ–\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåŒå±‚ä¹‹é—´å¯å¹¶å‘éƒ¨ç½²ï¼ˆæœåŠ¡ä¸æ³³é“äº’ä¸å¹²æ‰°ï¼‰ï¼›\u003c/li\u003e\n\u003cli\u003eè·¨å±‚ä¹‹é—´æŒ‰ä¾èµ–é¡ºåºæ‰§è¡Œï¼ˆæ— èµ„æºç«äº‰ï¼‰ï¼›\u003c/li\u003e\n\u003cli\u003eå®ç°äº†ä»åº•å±‚ç½‘ç»œåˆ°ä¸šåŠ¡æœåŠ¡çš„\u003cstrong\u003eå…¨é“¾è·¯é«˜å¹¶å‘ã€é›¶é”å†²çªçš„äº¤ä»˜ä½“ç³»\u003c/strong\u003eã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eç®€è€Œè¨€ä¹‹ï¼š\u003cstrong\u003eåŒå±‚å¤šæ ˆå¹¶è¡Œï¼Œè·¨å±‚åªè¯»ä¾èµ–ã€‚\u003c/strong\u003e\u003cbr\u003eè¿™æ­£æ˜¯å®ç°é«˜å¹¶å‘ã€é›¶å†²çªæŒç»­äº¤ä»˜çš„å…³é”®æœºåˆ¶ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch1\u003e3. Lane æ ˆï¼šå¹¶å‘éƒ¨ç½²çš„å…³é”®\u003c/h1\u003e\n\u003cp\u003eåœ¨ä¼ ç»Ÿçš„ ECS éƒ¨ç½²æ¨¡å‹ä¸­ï¼Œä¸€ä¸ªæœåŠ¡é€šå¸¸ç»‘å®šåˆ°å•ä¸ª \u003cstrong\u003eECS Service\u003c/strong\u003eã€‚\u003cbr\u003eè¿™æ„å‘³ç€ä»»æ„æ—¶åˆ»åªèƒ½å­˜åœ¨ä¸€ä¸ªâ€œæ´»åŠ¨ç‰ˆæœ¬â€â€”â€”æ›´æ–°æ—¶åªèƒ½é€šè¿‡æ»šåŠ¨æ›´æ–°æˆ–æ›¿æ¢ä»»åŠ¡çš„æ–¹å¼å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚\u003cbr\u003eè¿™ç§æ¨¡å‹è™½ç„¶ç®€å•ï¼Œä½†å­˜åœ¨æ˜æ˜¾ç“¶é¢ˆï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ— æ³•åœ¨åŒä¸€æ—¶é—´ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬å…±å­˜ï¼ˆä¾‹å¦‚ç°åº¦ã€è“ç»¿æˆ– A/B æµ‹è¯•ï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003eæ¯æ¬¡éƒ¨ç½²ä¼šé”å®šæ•´ä¸ª Service èµ„æºï¼Œæ— æ³•å¹¶å‘æ‰§è¡Œã€‚\u003c/li\u003e\n\u003cli\u003eæµé‡æ§åˆ¶ã€å›æ»šã€å®éªŒå‘å¸ƒéƒ½éœ€è¦é¢å¤–é€»è¾‘æˆ–å¤–éƒ¨æµé‡ç½‘å…³ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œç³»ç»Ÿå¼•å…¥äº† \u003cstrong\u003eLaneï¼ˆæ³³é“ï¼‰æ ˆæ¨¡å‹\u003c/strong\u003eã€‚\u003c/p\u003e\n\u003ch2\u003eğŸ§© è®¾è®¡æ ¸å¿ƒï¼šLane = ç‹¬ç«‹ç”Ÿå‘½å‘¨æœŸçš„â€œç‰ˆæœ¬æ ˆâ€\u003c/h2\u003e\n\u003cp\u003eLane æ ˆçš„è®¾è®¡æ€æƒ³æ˜¯ï¼š\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eä¸€ä¸ª Lane è¡¨ç¤ºä¸€ä¸ªç‰ˆæœ¬ä¸Šä¸‹æ–‡ï¼ˆVersion Contextï¼‰\u003c/strong\u003eï¼Œ\u003cbr\u003eåŒ…å«è¯¥ç‰ˆæœ¬çš„ ECS Serviceã€TargetGroupã€ListenerRule ç­‰èµ„æºï¼Œ\u003cbr\u003eå¹¶é€šè¿‡ Header æˆ– Context é€‰æ‹©æ€§è·¯ç”±æµé‡ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eå› æ­¤ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ¯ä¸ª Lane å°±åƒä¸€ä¸ªâ€œå¹¶è¡Œä¸–ç•Œâ€çš„ç‹¬ç«‹ Service å®ä¾‹ï¼›\u003c/li\u003e\n\u003cli\u003eå„ä¸ª Lane æ‹¥æœ‰ç‹¬ç«‹çš„èµ„æºã€ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼›\u003c/li\u003e\n\u003cli\u003eæµé‡é€šè¿‡è·¯ç”±è§„åˆ™ï¼ˆå¦‚ tracestate headerï¼‰æ™ºèƒ½åˆ†å‘ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä¾‹å¦‚ï¼š\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eLane\u003c/th\u003e\n\u003cth\u003eæ ˆå\u003c/th\u003e\n\u003cth\u003eService åç§°\u003c/th\u003e\n\u003cth\u003eTargetGroup\u003c/th\u003e\n\u003cth\u003eè·¯ç”±æ¡ä»¶\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003edefault\u003c/td\u003e\n\u003ctd\u003eapp-user-api-dev-default\u003c/td\u003e\n\u003ctd\u003euser-api-dev-default\u003c/td\u003e\n\u003ctd\u003e*-default-tg\u003c/td\u003e\n\u003ctd\u003eé»˜è®¤\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003egray\u003c/td\u003e\n\u003ctd\u003eapp-user-api-dev-gray\u003c/td\u003e\n\u003ctd\u003euser-api-dev-gray\u003c/td\u003e\n\u003ctd\u003e*-gray-tg\u003c/td\u003e\n\u003ctd\u003etracestate=ctx=lane:gray\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eblue\u003c/td\u003e\n\u003ctd\u003eapp-user-api-dev-blue\u003c/td\u003e\n\u003ctd\u003euser-api-dev-blue\u003c/td\u003e\n\u003ctd\u003e*-blue-tg\u003c/td\u003e\n\u003ctd\u003etracestate=ctx=lane:blue\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eæ¯ä¸ªæ³³é“çš„ CloudFormation Stack å®šä¹‰ä¸ºï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eStackName: !Sub \u0026#39;app-${Service}-${Env}-${Lane}\u0026#39;\nResources:\n  Service:\n    Type: AWS::ECS::Service\n    Properties:\n      ServiceName: !Sub \u0026#39;${Service}-${Env}-${Lane}\u0026#39;\n  TargetGroup:\n    Type: AWS::ElasticLoadBalancingV2::TargetGroup\n    Properties:\n      Name: !Sub \u0026#39;${Service}-${Env}-${Lane}-tg\u0026#39;\n  ListenerRule:\n    Type: AWS::ElasticLoadBalancingV2::ListenerRule\n    Properties:\n      Conditions:\n        - Field: http-header\n          HttpHeaderConfig:\n            HttpHeaderName: tracestate\n            Values: [ !Sub \u0026#39;ctx=lane:${Lane}\u0026#39; ]\n      Actions:\n        - Type: forward\n          TargetGroupArn: !Ref TargetGroup\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eâš™ï¸ Lane æ ˆçš„å››ä¸ªæ ¸å¿ƒç‰¹æ€§\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eå®Œå…¨éš”ç¦»çš„æ ˆçº§èµ„æº\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ¯ä¸ª Lane æ‹¥æœ‰ç‹¬ç«‹çš„ ECS Serviceã€TargetGroupã€ListenerRuleã€‚\u003c/li\u003e\n\u003cli\u003eä»»ä½•ä¸€ä¸ª Lane çš„æ›´æ–°ã€å¤±è´¥æˆ–å›æ»šéƒ½ä¸ä¼šå½±å“å…¶ä»–æ³³é“ã€‚\u003c/li\u003e\n\u003cli\u003eåˆ é™¤ Lane æ ˆå³å¯å®Œæˆèµ„æºè‡ªåŠ¨æ¸…ç†ï¼Œæ— éœ€æ‰‹åŠ¨å›æ”¶ TG æˆ– ListenerRuleã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eå¤©ç„¶æ”¯æŒå¹¶å‘éƒ¨ç½²\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå› ä¸ºæ¯ä¸ª Lane æ˜¯ç‹¬ç«‹çš„ CloudFormation æ ˆï¼ˆStack çº§é”ç²’åº¦ï¼‰ï¼Œ\u003cbr\u003eæ‰€ä»¥ä¸åŒ Lane çš„éƒ¨ç½²å¯\u003cstrong\u003eå¹¶è¡Œæ‰§è¡Œ\u003c/strong\u003eï¼Œäº’ä¸é˜»å¡ã€‚\u003c/li\u003e\n\u003cli\u003eè¿™ä¹Ÿæ˜¯å®ç°â€œé«˜å¹¶å‘æ— é”éƒ¨ç½²â€çš„å…³é”®åŸºç¡€ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eåŠ¨æ€å¯æ‰©å±•çš„è·¯ç”±ç»“æ„\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eALB Listener åªéœ€é…ç½®ä¸€æ¬¡ï¼›\u003c/li\u003e\n\u003cli\u003eæ¯ä¸ª Lane æ ˆåœ¨åˆ›å»ºæ—¶å‘ Listener åŠ¨æ€æ³¨å†Œä¸€æ¡è§„åˆ™ï¼›\u003c/li\u003e\n\u003cli\u003eæ–°å¢æ³³é“æ— éœ€ä¿®æ”¹ä¸»æ ˆç»“æ„ï¼Œåªéœ€éƒ¨ç½²æ–° Lane æ ˆï¼›\u003c/li\u003e\n\u003cli\u003eåˆ é™¤æ³³é“æ—¶è‡ªåŠ¨åˆ é™¤å¯¹åº”è§„åˆ™ä¸ TGï¼Œä¿æŒè·¯ç”±æ•´æ´ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eä»å·¥ç¨‹åˆ°ä¸šåŠ¡çš„ç»Ÿä¸€æŠ½è±¡\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå·¥ç¨‹å±‚é¢ï¼ŒLane æ ˆè§£å†³äº†\u003cstrong\u003eéƒ¨ç½²å¹¶å‘ä¸æ¨¡æ¿å¤ç”¨\u003c/strong\u003eé—®é¢˜ï¼›\u003c/li\u003e\n\u003cli\u003eä¸šåŠ¡å±‚é¢ï¼ŒLane æ ˆæä¾›äº†\u003cstrong\u003eæµé‡åˆ†å±‚ä¸å‘å¸ƒæ§åˆ¶\u003c/strong\u003eèƒ½åŠ›ï¼›\u003c/li\u003e\n\u003cli\u003eä»æ¶æ„è®¾è®¡ä¸Šï¼Œè®©\u003cstrong\u003eç°åº¦ã€è“ç»¿ã€A/B æµ‹è¯•æˆä¸ºåŸç”Ÿç‰¹æ€§\u003c/strong\u003eï¼Œè€Œä¸æ˜¯é™„åŠ é€»è¾‘ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eğŸš€ Lane é©±åŠ¨çš„å‘å¸ƒæ¨¡å¼\u003c/h2\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eæ¨¡å¼\u003c/th\u003e\n\u003cth\u003eæè¿°\u003c/th\u003e\n\u003cth\u003eå®ç°æ–¹å¼\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eç°åº¦å‘å¸ƒï¼ˆGray Releaseï¼‰\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eåœ¨æ–°ç‰ˆæœ¬æ³³é“ gray ä¸­å‘å¸ƒå°‘é‡æµé‡è¿›è¡ŒéªŒè¯\u003c/td\u003e\n\u003ctd\u003eæ–°å»º gray Lane æ ˆå¹¶éƒ¨åˆ†æµé‡æ³¨å…¥ï¼ˆheader/æ¯”ä¾‹ï¼‰\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eè“ç»¿å‘å¸ƒï¼ˆBlue/Greenï¼‰\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eä¸¤ä¸ªç‰ˆæœ¬ï¼ˆblue / defaultï¼‰å¹¶è¡Œï¼Œæµé‡é€æ­¥åˆ‡æ¢\u003c/td\u003e\n\u003ctd\u003eéƒ¨ç½² blue Lane æ ˆ â†’ åˆ‡æ¢æµé‡ â†’ åˆ é™¤æ—§æ ˆ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eA/B æµ‹è¯•ï¼ˆTraffic Splitï¼‰\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæŒ‰ headerã€cookie æˆ–ç”¨æˆ· ID ç»´åº¦è·¯ç”±ä¸åŒç‰ˆæœ¬\u003c/td\u003e\n\u003ctd\u003eå¤šä¸ª Lane å¹¶è¡Œå­˜åœ¨ï¼ŒALB æˆ–åº”ç”¨å±‚æ§åˆ¶ header\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eLane æœºåˆ¶ä½¿å¾—éƒ¨ç½²é€»è¾‘ã€æµé‡ç­–ç•¥ã€å›æ»šç­–ç•¥éƒ½åœ¨æ¶æ„å±‚å¯ç¼–æ’ï¼Œè€Œä¸æ˜¯ç”±ä¸šåŠ¡ä»£ç å®ç°ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§åŸºäº \u003cstrong\u003eCloudFormation\u003cbr\u003eStack ç²’åº¦çš„å¤šç‰ˆæœ¬å¹¶è¡Œæ¶æ„\u003c/strong\u003eï¼Œé€šè¿‡ã€Œå¤šæ ˆå¹¶è¡Œ + ç‹¬ç«‹è·¯ç”± + å‚æ•°åŒ–éƒ¨ç½²ã€å®ç°ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eé«˜å¹¶å‘å‘å¸ƒï¼ˆæ— é”å†²çªï¼‰\u003c/li\u003e\n\u003cli\u003eå¤šç‰ˆæœ¬å…±å­˜ï¼ˆç°åº¦ã€è“ç»¿ã€A/Bï¼‰\u003c/li\u003e\n\u003cli\u003eä¸€é”®æ¸…ç†ä¸å›æ»š\u003c/li\u003e\n\u003cli\u003eæ¨¡æ¿çº§æ²»ç†ä¸å¯å®¡è®¡æ€§\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eä¸‰ã€æŠ€æœ¯å®ç°ï¼šä»æ¨¡æ¿åˆ°æ‰§è¡Œ\u003c/h2\u003e\n\u003ch3\u003e1. BuildSpecï¼šç»Ÿä¸€å…¥å£ï¼Œé€»è¾‘å¤–ç§»\u003c/h3\u003e\n\u003cp\u003eæ‰€æœ‰æœåŠ¡å…±ç”¨ç»Ÿä¸€æ„å»ºæè¿°æ–‡ä»¶ \u003ccode\u003eci/buildspec.yaml\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: 0.2\nenv:\n  shell: bash\n  variables:\n    MODULE_PATH: \u0026quot;.\u0026quot;                  # ç›¸å¯¹\u0026quot;åº”ç”¨ä»“æ ¹ç›®å½•\u0026quot;ï¼ˆAppOutï¼‰\n  # è·¨ phase å˜é‡ä¼ é€’\n  exported-variables:\n    - ECR_REPO_URI\n    - IMAGE_TAG_URI\n\nphases:\n  install:\n    runtime-versions:\n      java: corretto21\n    commands:\n      - chmod +x ci/*.sh\n  pre_build:\n    commands:\n      - \u0026#39;. ci/build.sh; prebuild\u0026#39;\n  build:\n    commands:\n      - \u0026#39;. ci/build.sh; build\u0026#39;\n  post_build:\n    commands:\n      - \u0026#39;. ci/build.sh; postbuild\u0026#39;\nartifacts:\n  files:\n    - cfn-params.json   # ä»ä¸»è¾“å…¥æ ¹ç›®å½•æ‰“åŒ…\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå®é™…é€»è¾‘é›†ä¸­åœ¨ \u003ccode\u003eci/build.sh\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eprebuild() {\n  aws ecr get-login-password | docker login ...\n}\nbuild() {\n  docker build -t $SERVICE_NAME .\n  docker push $ECR_URI/$SERVICE_NAME:$IMAGE_TAG\n}\npostbuild() {\n  echo \u0026quot;{\u0026quot;Parameters\u0026quot;:{\u0026quot;ImageUri\u0026quot;:\u0026quot;$ECR_URI/$SERVICE_NAME:$IMAGE_TAG\u0026quot;}}\u0026quot; \u0026gt; cfn-params.json\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè¿™ç§â€œè½» buildspec + é‡è„šæœ¬â€çš„ç»“æ„æå¤§å¢å¼ºäº†æ¨¡æ¿å¤ç”¨æ€§ä¸å¯å®¡è®¡æ€§ã€‚\u003c/p\u003e\n\u003ch3\u003e2. æ ˆè®¾è®¡ï¼šInfra â†’ Boot â†’ App\u003c/h3\u003e\n\u003ch4\u003e(1) Infra æ ˆï¼ˆç¯å¢ƒçº§å…±äº«ï¼‰\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eParameters:\n  CreateNetwork:\n    Type: String\n    Default: \u0026#39;true\u0026#39;\n\nConditions:\n  CreateNetworkCond: !Equals [ !Ref CreateNetwork, \u0026#39;true\u0026#39; ]\n\nResources:\n  VPC:\n    Type: AWS::EC2::VPC\n    Condition: CreateNetworkCond\n\n  Namespace:\n    Type: AWS::ServiceDiscovery::PrivateDnsNamespace\n\nOutputs:\n  VpcId:\n    Value: !Ref VPC\n    Export:\n      Name: !Sub \u0026#39;infra-environment-${Env}-VpcId\u0026#39;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè‹¥å·²å­˜åœ¨ç½‘ç»œï¼Œå¯è®¾ç½® \u003ccode\u003eCreateNetwork=false\u003c/code\u003e è¿›å…¥ Wrap æ¨¡å¼ï¼šä»…åŒ…è£…å·²æœ‰ VPC/Subnets å¹¶å¯¼å‡º IDã€‚\u003c/p\u003e\n\u003ch4\u003e(2) Boot æ ˆï¼ˆæœåŠ¡çº§ï¼‰\u003c/h4\u003e\n\u003cp\u003eè´Ÿè´£åˆ›å»ºï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eALB + é»˜è®¤ TargetGroup + Listenerï¼›\u003c/li\u003e\n\u003cli\u003eLogGroupï¼›\u003c/li\u003e\n\u003cli\u003eCloud Map Serviceã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå¯¼å‡ºå€¼ï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eboot-user-api-dev-LoadBalancerArn\nboot-user-api-dev-HttpListenerArn\nboot-user-api-dev-LogGroupName\nboot-user-api-dev-user-api-service-arn\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003e(3) App æ ˆï¼ˆæ³³é“çº§ï¼‰\u003c/h4\u003e\n\u003cp\u003eåˆ›å»ºï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTaskDefinitionï¼›\u003c/li\u003e\n\u003cli\u003eECS Serviceï¼›\u003c/li\u003e\n\u003cli\u003eTargetGroupï¼›\u003c/li\u003e\n\u003cli\u003eListenerRuleï¼ˆHeader åŒ¹é… laneï¼‰ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eConditions:\n  IsGray: !Equals [ !Ref Lane, \u0026#39;gray\u0026#39; ]\nLaneRule:\n  Type: AWS::ElasticLoadBalancingV2::ListenerRule\n  Properties:\n    ListenerArn: !ImportValue boot-${ServiceName}-${Env}-HttpListenerArn\n    Priority: 1000\n    Conditions:\n      - Field: http-header\n        HttpHeaderConfig:\n          HttpHeaderName: tracestate\n          Values: [ !Sub \u0026#39;ctx=lane:${Lane}\u0026#39; ]\n    Actions:\n      - Type: forward\n        TargetGroupArn: !Ref LaneTargetGroup\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eå››ã€å‚æ•°ä¸æƒé™ï¼šé—­ç¯ä¸æœ€å°æˆæƒ\u003c/h2\u003e\n\u003ch3\u003e1. å‚æ•°é—­ç¯\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Pipeline è§¦å‘å˜é‡\nLANE=gray BRANCH=release/1.2.3\n\n# CodeBuild ç¯å¢ƒå˜é‡\nSERVICE_NAME=user-api APP_ENV=dev\n\n# è¾“å‡ºå‚æ•°æ–‡ä»¶\n{\n  \u0026quot;Parameters\u0026quot;: {\n    \u0026quot;ServiceName\u0026quot;: \u0026quot;user-api\u0026quot;,\n    \u0026quot;Env\u0026quot;: \u0026quot;dev\u0026quot;,\n    \u0026quot;Lane\u0026quot;: \u0026quot;gray\u0026quot;,\n    \u0026quot;ImageUri\u0026quot;: \u0026quot;xxx.dkr.ecr.ap-southeast-2.amazonaws.com/user-api:sha-abc123\u0026quot;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e2. æƒé™è¾¹ç•Œ\u003c/h3\u003e\n\u003cp\u003eApp Pipeline çš„ IAM ç­–ç•¥ï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e[\n  {\n    \u0026quot;Effect\u0026quot;: \u0026quot;Allow\u0026quot;,\n    \u0026quot;Action\u0026quot;: \u0026quot;cloudformation:*\u0026quot;,\n    \u0026quot;Resource\u0026quot;: \u0026quot;arn:aws:cloudformation:*:*:stack/app-*/*\u0026quot;\n  },\n  {\n    \u0026quot;Effect\u0026quot;: \u0026quot;Deny\u0026quot;,\n    \u0026quot;Action\u0026quot;: \u0026quot;cloudformation:*\u0026quot;,\n    \u0026quot;Resource\u0026quot;: [\n      \u0026quot;arn:aws:cloudformation:*:*:stack/boot-*/*\u0026quot;,\n      \u0026quot;arn:aws:cloudformation:*:*:stack/infra-environment-*/*\u0026quot;\n    ]\n  }\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStack Policy ä¿æŠ¤ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eç¦æ­¢ä¿®æ”¹ Boot æ ˆ Listenerã€è¯ä¹¦ï¼›\u003c/li\u003e\n\u003cli\u003eç¦æ­¢åˆ é™¤ Infra æ ˆç½‘ç»œèµ„æºã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eäº”ã€æµé‡è·¯ç”±ä¸ç°åº¦ç­–ç•¥\u003c/h2\u003e\n\u003ch3\u003e1. Trace Context é©±åŠ¨çš„æ™ºèƒ½è·¯ç”±\u003c/h3\u003e\n\u003cp\u003eç³»ç»Ÿéµå¾ª W3C Trace Context æ ‡å‡†ï¼Œåœ¨ tracestate ä¸­æ³¨å…¥ lane ä¿¡æ¯ï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etracestate: ctx=lane:gray\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eALB æŒ‰ Header åŒ¹é…ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå‘½ä¸­ â†’ è½¬å‘åˆ°å¯¹åº” TGï¼›\u003c/li\u003e\n\u003cli\u003eæœªå‘½ä¸­ â†’ å›é€€è‡³ default TGã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e2. å…¸å‹ç°åº¦æµç¨‹\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eè§¦å‘æ–° Laneï¼š\u003ccode\u003eLANE=gray\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eå‘å¸ƒ \u003ccode\u003eapp-user-api-dev-gray\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eå°æµé‡ Header å¯¼å…¥ grayï¼›\u003c/li\u003e\n\u003cli\u003eéªŒè¯ç¨³å®šåï¼Œå°† gray å‡çº§ä¸º defaultï¼›\u003c/li\u003e\n\u003cli\u003eåˆ é™¤æ—§ Lane æ ˆã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eæ•´ä¸ªæµç¨‹æ— é¡»æ”¹ ALB æˆ–å…±äº«å±‚ï¼Œå®Œå…¨è‡ªåŠ¨åŒ–ã€‚\u003c/p\u003e\n\u003ch2\u003eå…­ã€å¯è§‚æµ‹æ€§ä¸å›æ»šæœºåˆ¶\u003c/h2\u003e\n\u003ch3\u003e1. æ—¥å¿—èšåˆ\u003c/h3\u003e\n\u003cp\u003eæ¯ä¸ªæœåŠ¡åœ¨ Boot æ ˆåˆ›å»º \u003ccode\u003e/ecs/{env}/{service}\u003c/code\u003e LogGroupï¼›\u003cbr\u003eæ¯ Lane ä½¿ç”¨ç‹¬ç«‹ \u003ccode\u003estream-prefix={lane}\u003c/code\u003eï¼Œå®ç°å¤šç»´æ£€ç´¢ã€‚\u003c/p\u003e\n\u003ch3\u003e2. è‡ªåŠ¨å›æ»š\u003c/h3\u003e\n\u003cp\u003eECS Deployment Circuit Breaker è‡ªåŠ¨æ£€æµ‹ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eéƒ¨ç½²å¤±è´¥æ—¶å›æ»šè‡³ä¸Šä¸ª TaskRevisionï¼›\u003c/li\u003e\n\u003cli\u003eå‘å¸ƒè„šæœ¬æ”¯æŒä¸€é”®é‡å‘ä¸Šä¸ªé•œåƒæ ‡ç­¾ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e3. ç›‘æ§æŒ‡æ ‡\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eç±»åˆ«\u003c/th\u003e\n\u003cth\u003eæŒ‡æ ‡\u003c/th\u003e\n\u003cth\u003eå‘Šè­¦æ¡ä»¶\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eALB\u003c/td\u003e\n\u003ctd\u003eHTTPCode_Target_5XX_Count\u003c/td\u003e\n\u003ctd\u003e\u0026gt; 1%\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eECS\u003c/td\u003e\n\u003ctd\u003eRunningCount \u0026lt; DesiredCount\u003c/td\u003e\n\u003ctd\u003eè¿ç»­ 3 æ¬¡\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eTG\u003c/td\u003e\n\u003ctd\u003eHealthyHostCount\u003c/td\u003e\n\u003ctd\u003e\u0026lt; 1\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003ch2\u003eä¸ƒã€å®æ–½ä¸ä»·å€¼\u003c/h2\u003e\n\u003cp\u003eä¸‹é¢å±•ç¤ºå¦‚ä½•åŸºäº AWS CloudFormation å’Œ CodePipeline éƒ¨ç½²å¤šå±‚æŒç»­äº¤ä»˜ä½“ç³»ï¼Œ å¹¶é€šè¿‡ JSON æ–‡ä»¶å®šä¹‰æ¨¡æ¿å‚æ•°ï¼Œå®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸å‚æ•°å¯å®¡è®¡ã€‚\u003c/p\u003e\n\u003ch3\u003e1. éƒ¨ç½²pipelineï¼ˆä¸€æ¬¡æ€§ï¼‰\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# ç¯å¢ƒçº§ï¼ˆä¸€æ¬¡æ€§éƒ¨ç½²ï¼‰\naws cloudformation deploy \\\n  --template-file ci/infra/pipeline.yaml \\\n  --stack-name infra-dev \\\n  --parameter-overrides file://params/infra-dev.json\n\n# æœåŠ¡æ¥å…¥å±‚ bootï¼ˆä¸€æ¬¡æ€§éƒ¨ç½²ï¼Œé€šç”¨ pipelineï¼‰\naws cloudformation deploy \\\n  --template-file ci/boot/pipeline.yaml \\\n  --stack-name bootstrap-dev \\\n  --parameter-overrides file://params/bootstrap-dev.json\n\n# åº”ç”¨å±‚ appï¼ˆæ¯ä¸ªæœåŠ¡ç‹¬ç«‹ä¸€æ¡ pipelineï¼‰\naws cloudformation deploy \\\n  --template-file ci/app/pipeline.yaml \\\n  --stack-name user-api-dev \\\n  --parameter-overrides file://params/user-api-dev.json\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e2. å‚æ•°æ–‡ä»¶\u003c/h3\u003e\n\u003cp\u003eæ¯ä¸ªé˜¶æ®µéƒ½åœ¨ params/ ç›®å½•ä¸‹å®šä¹‰ç‹¬ç«‹ JSON å‚æ•°æ–‡ä»¶ï¼ŒæŒ‰è§„èŒƒåŒºåˆ†ç¯å¢ƒã€æœåŠ¡ä¸æ³³é“ï¼š\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå±‚çº§\u003c/th\u003e\n\u003cth\u003eå‚æ•°æ–‡ä»¶\u003c/th\u003e\n\u003cth\u003eç¤ºä¾‹\u003c/th\u003e\n\u003cth\u003eç”¨é€”\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eç¯å¢ƒçº§\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003einfra-{env}.json\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003einfra-dev.json\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eåŸºç¡€è®¾æ–½å‚æ•°ï¼Œå®šä¹‰åŸºç¡€ç½‘ç»œã€VPCã€Subnetã€Clusterã€Namespace ç­‰é€šç”¨èµ„æºã€‚\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eæœåŠ¡çº§\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eboot-{env}.json\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eboot-dev.json\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eæœåŠ¡å¼•å¯¼å‚æ•°ï¼Œé€šè¿‡è¿è¡Œæ—¶å˜é‡ \u003ccode\u003eSERVICE\u003c/code\u003e æ¥åŠ¨æ€åˆ›å»ºå„æœåŠ¡çš„ ALBã€LogGroupã€Cloud Map\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eåº”ç”¨çº§\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e{service}-{env}.json\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003euser-api-dev.json\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eåº”ç”¨å±‚å‚æ•°ï¼Œæ¯ä¸ªæœåŠ¡ä¸€ä»½ç‹¬ç«‹å‚æ•°æ–‡ä»¶ï¼Œæ”¯æŒé€šè¿‡SERVICEã€LANEã€BRANCH å˜é‡æ§åˆ¶æ³³é“éƒ¨ç½²ä¸é•œåƒç‰ˆæœ¬ã€‚\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè¿™ç§å‘½åçº¦å®šä¾¿äºç‰ˆæœ¬åŒ–ä¸å®¡è®¡ï¼Œä¹Ÿå¯åœ¨ CodePipeline ä¸­åŠ¨æ€é€‰æ‹©ã€‚æ‰€æœ‰å‚æ•°æ–‡ä»¶ç»Ÿä¸€å­˜æ”¾åœ¨ \u003ccode\u003eparams/\u003c/code\u003e ç›®å½•ä¸­ï¼Œå¹¶çº³å…¥ Git ç‰ˆæœ¬ç®¡ç†ï¼Œ\u003cbr\u003eä¾¿äºåœ¨ä¸åŒç¯å¢ƒé—´å¤ç”¨ã€å®¡è®¡ã€å›æ»šä¸è‡ªåŠ¨åŒ–ç”Ÿæˆã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3\u003e3. æœåŠ¡å¼•å¯¼ï¼ˆæœåŠ¡çº§å…±äº«èµ„æºï¼‰\u003c/h3\u003e\n\u003cp\u003eåœ¨éƒ¨ç½² \u003cstrong\u003eåº”ç”¨å±‚ pipeline\u003c/strong\u003eï¼ˆå¦‚ \u003ccode\u003euser-api-dev\u003c/code\u003eï¼‰ä¹‹å‰ï¼Œå¿…é¡»å…ˆè§¦å‘ä¸€æ¬¡\u003cstrong\u003eboot å±‚é€šç”¨ pipelineï¼ˆboot-{env}ï¼‰\u003c/strong\u003eï¼Œä»¥åˆ›å»ºè¯¥æœåŠ¡çš„å…±äº«æ¥å…¥èµ„æºï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eALB TargetGroup\u003c/li\u003e\n\u003cli\u003eCloud Map Service\u003c/li\u003e\n\u003cli\u003eLogGroup\u003c/li\u003e\n\u003cli\u003eé»˜è®¤ ListenerRule\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eè¿™äº›èµ„æºç”± boot å±‚é›†ä¸­ç®¡ç†ï¼Œæ‰€æœ‰åº”ç”¨å±‚æ³³é“ï¼ˆå¦‚ grayã€blueã€defaultï¼‰éƒ½ä¼šå¤ç”¨ï¼Œå› æ­¤å¿…é¡»ä¿è¯è¯¥é˜¶æ®µå…ˆäº \u003cstrong\u003eapp pipeline\u003c/strong\u003e æ‰§è¡Œã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# ä½¿ç”¨ bootstrap-dev pipelineï¼Œé€šè¿‡ SERVICE å‚æ•°åˆ›å»ºæœåŠ¡æ¥å…¥èµ„æº\naws codepipeline start-pipeline-execution \\\n  --name boot-dev \\\n  --variables name=SERVICE,value=user-api\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e4. å‘å¸ƒä¸æ³³é“ç®¡ç†ï¼ˆapp å±‚ï¼‰\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# å‘å¸ƒåˆ° gray æ³³é“\naws codepipeline start-pipeline-execution \\\n  --name user-api-dev \\\n  --variables name=SERVICE,value=user-api \\\n              name=LANE,value=gray \\\n              name=BRANCH,value=release/1.2.3\n\n# åˆ é™¤ gray æ³³é“ï¼ˆè‡ªåŠ¨å›æ”¶ TG/ListenerRule/ECS Serviceï¼‰\naws cloudformation delete-stack \\\n  --stack-name app-user-api-dev-gray\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e3. ä»·å€¼æ€»ç»“\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eä½¿ç”¨ \u003ccode\u003eparams/\u003c/code\u003e ç›®å½•é›†ä¸­å­˜æ”¾æ¨¡æ¿å‚æ•°ï¼Œé…åˆ Git ç‰ˆæœ¬ç®¡ç†ã€‚\u003c/li\u003e\n\u003cli\u003eå‚æ•°æ–‡ä»¶ä¸æ¨¡æ¿è§£è€¦ï¼Œæ–¹ä¾¿åœ¨ä¸åŒç¯å¢ƒé—´å¤ç”¨ç›¸åŒæ¨¡æ¿ã€‚\u003c/li\u003e\n\u003cli\u003eé€šè¿‡ CodePipeline çš„å˜é‡å‚æ•°ï¼ˆå¦‚ \u003ccode\u003eSERVICE\u003c/code\u003eã€\u003ccode\u003eLANE\u003c/code\u003eã€\u003ccode\u003eBRANCH\u003c/code\u003eï¼‰æ§åˆ¶å‘å¸ƒç²’åº¦ã€‚\u003c/li\u003e\n\u003cli\u003eåˆ é™¤æ³³é“æ—¶åªéœ€åˆ é™¤å¯¹åº” Stackï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å›æ”¶èµ„æºã€‚\u003c/li\u003e\n\u003cli\u003eåœ¨å¤šæ³³é“éƒ¨ç½²ä¸­ä¿æŒå‘½åä¸€è‡´æ€§ä¸å‚æ•°è§„èŒƒï¼Œç¡®ä¿å„å±‚ä¹‹é—´å¯å®¡è®¡ã€å¯è¿½æº¯ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eç»´åº¦\u003c/th\u003e\n\u003cth\u003eæˆæœ\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eæŠ€æœ¯\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæ— é”å¹¶å‘éƒ¨ç½²ã€æ¨¡æ¿é›†ä¸­æ²»ç†ã€æ™ºèƒ½æµé‡è·¯ç”±\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eè¿ç»´\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eé›¶äººå·¥æ³³é“åˆ‡æ¢ã€æ ‡å‡†åŒ–ç›‘æ§ä¸è‡ªåŠ¨å›æ»š\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eä¸šåŠ¡\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eå¿«é€Ÿç°åº¦ / è“ç»¿ / A/B æµ‹è¯•ï¼Œæ˜¾è‘—ç¼©çŸ­å‘å¸ƒå‘¨æœŸ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eæ²»ç†\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæ¨¡æ¿åˆè§„é›†ä¸­ã€æƒé™æœ€å°åŒ–ã€æ ˆä¿æŠ¤æœºåˆ¶ï¼Œæ”¯æŒç»Ÿä¸€å®¡è®¡\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâœ… é€šè¿‡ä»¥ä¸Šå®è·µï¼Œæ•´ä¸ª CI/CD ä½“ç³»å®ç°äº†æ¨¡æ¿åŒ–ã€å‚æ•°åŒ–ã€è‡ªåŠ¨åŒ–ã€å¯æ²»ç†åŒ–ï¼Œ\u003cbr\u003eè®©â€œå¤šæ³³é“é«˜å¹¶å‘äº¤ä»˜â€æˆä¸ºä¸€ç§å·¥ç¨‹æ ‡å‡†ï¼Œè€Œéå¤æ‚ç‰¹ä¾‹ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eç»“è¯­ï¼šä»æµç¨‹åˆ°ä½“ç³»\u003c/h2\u003e\n\u003cp\u003eè¯¥æ¶æ„çš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œè®© CI/CD è‡ªæ²»ï¼Œè€Œéä¾èµ–äººæ²»â€ï¼Œé€šè¿‡ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ¨¡æ¿é›†ä¸­æ²»ç†ï¼ˆInfra Repoï¼‰\u003c/li\u003e\n\u003cli\u003eä¸šåŠ¡ä»“ç‹¬ç«‹æ¼”è¿›ï¼ˆApp Repoï¼‰\u003c/li\u003e\n\u003cli\u003ePipeline åˆ†å±‚è§£è€¦\u003c/li\u003e\n\u003cli\u003eLane æ ˆçº§å¹¶å‘éš”ç¦»\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæˆ‘ä»¬ä¸ä»…åœ¨å·¥ç¨‹ä¸Šè§£å†³äº†å¹¶å‘å†²çªå’Œç°åº¦å¤æ‚åº¦ï¼Œ æ›´åœ¨ç»„ç»‡å±‚é¢å»ºç«‹äº† DevOps æ¨¡æ¿çš„ç»Ÿä¸€â€œåŸºå»ºå±‚â€ã€‚\u003cbr\u003e\u003cstrong\u003eDevOps æ¨¡æ¿ä¸å†æ˜¯è„šæœ¬é›†åˆï¼Œè€Œæ˜¯æœåŠ¡åŒ–çš„åŸºç¡€è®¾æ–½ã€‚\u003c/strong\u003e\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"17:T3e8e,"])</script><script>self.__next_f.push([1,"\u003ch2\u003eä¸€ã€å®è§‚é€»è¾‘ï¼šAIäº§ä¸šæ¼”åŒ–çš„å››é‡å¥\u003c/h2\u003e\n\u003cp\u003e2023è‡³2025å¹´ï¼Œå…¨çƒAIäº§ä¸šç»å†äº†ä¸€åœºæ·±åˆ»çš„èŒƒå¼è½¬ç§»ã€‚å¤§æ¨¡å‹æŠ€æœ¯çš„çº¢åˆ©æœŸæ­£æ¥è¿‘å°¾å£°ï¼Œç®—åŠ›å†›å¤‡ç«èµ›è¿›å…¥æ”¶å®˜é˜¶æ®µã€‚å½“ä¸»æµæ¨¡å‹çš„æ ¸å¿ƒæ€§èƒ½å·®è·æ”¶æ•›è‡³ä¸ªä½æ•°ç™¾åˆ†æ¯”ï¼Œä¸€ä¸ªæ¸…æ™°çš„ä¿¡å·æµ®ç°ï¼š\u003cstrong\u003eAIçš„ä¸ŠåŠåœºï¼ˆæ¨¡å‹ç«èµ›ï¼‰å·²åŸºæœ¬ç»“æŸï¼Œä¸‹åŠåœºï¼ˆåœºæ™¯ç«äº‰ï¼‰æ­£å…¨é¢å¼€å¯ã€‚\u003c/strong\u003e ç«äº‰çš„ç„¦ç‚¹ä»â€œè°çš„æ¨¡å‹æ›´èªæ˜â€è½¬å‘â€œè°çš„æ•°æ®æ›´é²œæ´»ã€è°çš„åœºæ™¯æ›´é—­ç¯â€ï¼ŒAIçš„ä»·å€¼è¯„ä¼°ä½“ç³»ä¹Ÿéšä¹‹ä»ç®—æ³•æ€§èƒ½è½¬å‘å•†ä¸šæ•ˆç‡ä¸ç”Ÿæ€ä»·å€¼ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ä¸€è½¬å˜éµå¾ªç€æ¸…æ™°çš„â€œå»é­…è·¯å¾„â€ï¼Œå…·ä½“è¡¨ç°ä¸ºå››ä¸ªæ¼”è¿›é˜¶æ®µï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eæ¨¡å‹è¶‹åŒ\u003c/strong\u003eï¼šéšç€å¼€æºç”Ÿæ€çš„ç¹è£ä¸æŠ€æœ¯çš„å¿«é€Ÿæ‰©æ•£ï¼Œé¡¶å°–æ¨¡å‹çš„èƒ½åŠ›æ­£è¿…é€Ÿè¶‹åŒï¼ŒAIæ¨¡å‹æœ¬èº«ä»é«˜å£å’çš„â€œäº§å“â€é€æ¸æ¼”å˜ä¸ºæ ‡å‡†åŒ–çš„â€œç”Ÿäº§è¦ç´ â€ï¼Œæˆä¸ºæ™ºèƒ½ç»æµçš„å…¬å…±åº•åº§ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæˆæœ¬ç«äº‰\u003c/strong\u003eï¼šå½“ç®—æ³•å·®å¼‚æ”¶çª„ï¼Œæ¨ç†æˆæœ¬ä¾¿æˆä¸ºå†³å®šæ€§çš„ç»æµå˜é‡ã€‚ä¼ä¸šç«äº‰ä»æ¯”æ‹¼â€œè®ºæ–‡æ•°é‡â€è½¬å‘ä¼˜åŒ–â€œæ¯ç§’æ¨ç†æˆæœ¬â€ï¼Œæ¨ç†æ•ˆç‡ç›´æ¥å…³è”å•†ä¸šæ¨¡å‹çš„å¯è¡Œæ€§ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ•°æ®å£å’\u003c/strong\u003eï¼šç®—æ³•ä¸ç®—åŠ›ç»ˆå°†æ™®æƒ åŒ–ï¼Œè€Œç‹¬ç‰¹ã€é«˜è´¨é‡ã€èƒ½å½¢æˆé—­ç¯åé¦ˆçš„æ•°æ®ï¼Œæˆä¸ºéš¾ä»¥å¤åˆ¶çš„çœŸæ­£æŠ¤åŸæ²³ã€‚æ•°æ®çš„â€œè´¨â€ï¼ˆå®æ—¶æ€§ã€çœŸå®æ€§ã€å¯è¡ŒåŠ¨æ€§ï¼‰è¿œæ¯”â€œé‡â€æ›´é‡è¦ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eç”Ÿæ€é—­ç¯\u003c/strong\u003eï¼šAIçš„ç»ˆæç«äº‰ä¸åœ¨äºå•é¡¹æŠ€æœ¯ï¼Œè€Œåœ¨äºèƒ½å¦åœ¨ç‰¹å®šåœºæ™¯ä¸­æ„å»ºâ€œæ•°æ®-ç®—æ³•-åé¦ˆâ€çš„è‡ªå­¦ä¹ é£è½®ï¼Œä½¿AIä»â€œå·¥å…·åˆ›æ–°â€è·ƒå‡ä¸ºé©±åŠ¨äº§ä¸šé‡æ„çš„â€œç³»ç»Ÿæ™ºèƒ½â€ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eè¿™å››ä¸ªé˜¶æ®µå…±åŒæ ‡å¿—ç€äº§ä¸šä»·å€¼ä¸­å¿ƒçš„æ ¹æœ¬è¿ç§»ï¼š\u003cstrong\u003eAIçš„æœªæ¥ç«äº‰åŠ›ï¼Œä¸å†å–å†³äºç®—åŠ›çš„ç»å¯¹å †å ï¼Œè€Œæ›´å¤šå–å†³äºåœºæ™¯çš„æ·±åº¦ä¸æ•°æ®åé¦ˆé—­ç¯çš„è‡ªå¼ºåŒ–èƒ½åŠ›ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003ch2\u003eäºŒã€ä¸­å›½AIæ ¼å±€ï¼šä»å…­å·¨å¤´åˆ°ATMä¸‰æçš„æˆ˜ç•¥ç­›é€‰\u003c/h2\u003e\n\u003cp\u003eåœ¨ä¸­å›½ç‹¬ç‰¹çš„å•†ä¸šç¯å¢ƒä¸­ï¼ŒAIçš„è½åœ°å‘ˆç°å‡ºé²œæ˜çš„ç‰¹è‰²ã€‚é˜¿é‡Œå·´å·´ã€è…¾è®¯ã€ç¾å›¢ï¼ˆATMï¼‰æ„æˆäº†ä¸€ä¸ªç¨³å›ºçš„ä¸‰ææ ¼å±€ï¼Œå®ƒä»¬åˆ†åˆ«æŒæ¡äº†AIæ·±åº¦å•†ä¸šåŒ–æ‰€éœ€çš„ä¸‰ç±»å…³é”®èƒ½åŠ›ï¼š\u003cstrong\u003eåŸºç¡€è®¾æ–½å·¥å‚ã€ç”Ÿæ€è¿æ¥å™¨ã€ç°å®åœºæ™¯é—­ç¯\u003c/strong\u003eã€‚\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eç»´åº¦\u003c/th\u003e\n\u003cth\u003eé˜¿é‡Œå·´å·´ï¼ˆAï¼‰\u003c/th\u003e\n\u003cth\u003eè…¾è®¯ï¼ˆTï¼‰\u003c/th\u003e\n\u003cth\u003eç¾å›¢ï¼ˆMï¼‰\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eæ ¸å¿ƒå®šä½\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eAIåŸºç¡€è®¾æ–½ä¸äº§ä¸šäº‘\u003c/td\u003e\n\u003ctd\u003eç¤¾äº¤å†…å®¹ç”Ÿæ€ä¸ç”¨æˆ·è¿æ¥\u003c/td\u003e\n\u003ctd\u003eç”Ÿæ´»æœåŠ¡ä¸ç°å®å†³ç­–æ‰§è¡Œ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eæ•°æ®æœ¬è´¨\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eâ€œæ„å›¾â€æ•°æ®ï¼ˆäº¤æ˜“ã€æ”¯ä»˜ã€æœç´¢ï¼‰\u003c/td\u003e\n\u003ctd\u003eâ€œè¡¨è¾¾â€æ•°æ®ï¼ˆç¤¾äº¤ã€å†…å®¹ã€äº’åŠ¨ï¼‰\u003c/td\u003e\n\u003ctd\u003eâ€œè¡Œä¸ºâ€æ•°æ®ï¼ˆä¸‹å•ã€å±¥çº¦ã€è¯„ä»·ï¼‰\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eæ ¸å¿ƒä¼˜åŠ¿\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eäº‘è®¡ç®—è§„æ¨¡ã€å®Œæ•´å•†ä¸šé—­ç¯\u003c/td\u003e\n\u003ctd\u003eç”¨æˆ·å…³ç³»æ·±åº¦ã€å¼ºç¤¾äº¤ç²˜æ€§\u003c/td\u003e\n\u003ctd\u003eé«˜é¢‘ã€çœŸå®ã€å…·æ—¶ç©ºæ ‡ç­¾çš„é—­ç¯åé¦ˆ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eAIä»·å€¼é‡å¿ƒ\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eä¼˜åŒ–å•†ä¸šæ•ˆç‡ä¸ä¾›åº”é“¾å†³ç­–\u003c/td\u003e\n\u003ctd\u003eæå‡å†…å®¹åˆ†å‘ä¸ç”Ÿæ€è¿è¥æ•ˆç‡\u003c/td\u003e\n\u003ctd\u003eç†è§£å¹¶é¢„æµ‹ç°å®ä¸–ç•Œçš„è¡Œä¸ºé“¾æ¡\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eé˜¿é‡Œå·´å·´\u003c/strong\u003eæ„å»ºäº†ä»ç®—åŠ›ï¼ˆäº‘ï¼‰åˆ°æ•°æ®ï¼ˆäº¤æ˜“ï¼‰å†åˆ°åº”ç”¨ï¼ˆå•†ä¸šOSï¼‰çš„å®Œæ•´å•†ä¸šæ™ºèƒ½ä½“ç³»ï¼Œå…¶AIå¦‚åŒä¸€ä¸ªâ€œä¼ä¸šæ•ˆç‡å¼•æ“â€ï¼Œæ·±åº¦ä¼˜åŒ–ä»æ¶ˆè´¹åˆ°ä¾›åº”é“¾çš„æ¯ä¸€ä¸ªç»æµèŠ‚ç‚¹ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eè…¾è®¯\u003c/strong\u003eä½œä¸ºä¸­å›½çš„â€œç¤¾äº¤ä¸­æ¢â€ï¼Œå…¶AIçš„æ ¸å¿ƒèƒ½åŠ›åœ¨äºç†è§£å¤æ‚çš„äººé™…è¯­å¢ƒä¸è¡¨è¾¾é€»è¾‘ï¼Œä»è€Œå°†æ™ºèƒ½æ— ç¼èå…¥å†…å®¹ã€ç¤¾äº¤ã€å¹¿å‘Šä¹ƒè‡³æ¸¸æˆç”Ÿæ€ï¼Œå½¢æˆç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒé—­ç¯ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eç¾å›¢\u003c/strong\u003eåˆ™å±•ç°å‡ºå¼ºå¤§çš„â€œç°å®ç©¿é€åŠ›â€ï¼Œå…¶AIçš„æ ¸å¿ƒä»·å€¼ä¸åœ¨äºé¢„æµ‹ï¼Œè€Œåœ¨äºç›´æ¥å‚ä¸ã€å¡‘é€ å¹¶é‡æ„ç”¨æˆ·çš„ç°å®å†³ç­–è¿‡ç¨‹ã€‚å…¶æŒæ¡çš„è®¢å•ã€é…é€ã€åœ°ç†ä¸è¯„ä»·æ•°æ®ï¼Œæ˜¯æ•°å­—ä¸–ç•Œä¸­æœ€æ¥è¿‘çœŸå®ç»æµæ´»åŠ¨çš„â€œé«˜ä¿çœŸä¿¡å·â€ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eATMä¸‰è€…å…±åŒæ„æˆäº†AIå•†ä¸šåŒ–çš„ä¸‰è§’æ”¯æ’‘\u003c/strong\u003eï¼šé˜¿é‡Œç†è§£å•†å“ä¸äº¤æ˜“é€»è¾‘ï¼Œè…¾è®¯æŒæ¡äººä¸å…³ç³»é€»è¾‘ï¼Œç¾å›¢åˆ™æ·±è€•ç”Ÿæ´»ä¸è¡ŒåŠ¨é€»è¾‘ã€‚å®ƒä»¬çš„å·®å¼‚åŒ–å®šä½ï¼Œå…±åŒæ¨åŠ¨ä¸­å›½AIä»â€œç®—åŠ›æ™ºèƒ½â€å‘â€œç”Ÿæ´»æ™ºèƒ½â€çš„å…³é”®è·ƒè¿ã€‚\u003c/p\u003e\n\u003ch3\u003eå…¶ä»–å·¨å¤´çš„å±€é™ï¼šå¼ºäºæŠ€æœ¯ï¼Œå¼±äºç°å®è€¦åˆ\u003c/h3\u003e\n\u003cp\u003eä¸ATMç›¸æ¯”ï¼Œå…¶ä»–æŠ€æœ¯å·¨å¤´è™½åœ¨ç‰¹å®šé¢†åŸŸä¼˜åŠ¿æ˜¾è‘—ï¼Œä½†å…¶AIèƒ½åŠ›ä¸ç°å®ç»æµæ´»åŠ¨çš„é«˜é¢‘è€¦åˆåº¦ç›¸å¯¹è¾ƒå¼±ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eç™¾åº¦\u003c/strong\u003eæŠ€æœ¯åº•è•´æ·±åšï¼Œä½†å…¶æœç´¢æ•°æ®æ›´åƒâ€œå†å²æ¡£æ¡ˆâ€ï¼Œç¼ºä¹ä»æ„å›¾åˆ°äº¤æ˜“å±¥çº¦çš„å®æ—¶é—­ç¯ï¼ŒAIå¦‚åŒâ€œèªæ…§çš„ç§‘å­¦å®¶â€ï¼Œå´ä¸å¿«é€Ÿæ¼”è¿›çš„ç°å®å•†ä¸šç•¥æœ‰è„±èŠ‚ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eå­—èŠ‚è·³åŠ¨\u003c/strong\u003eæ˜¯ç®—æ³•ä¸æµé‡çš„éœ¸ä¸»ï¼Œä½†å…¶æ•°æ®é›†ä¸­äºâ€œå†…å®¹æ¶ˆè´¹â€å±‚é¢ï¼Œç¼ºä¹â€œäº¤æ˜“åŠ¨æœºâ€ä¸â€œå±¥çº¦éªŒè¯â€çš„å…³é”®ä¿¡å·ï¼Œå¼ºäºç†è§£â€œç”¨æˆ·çœ‹ä»€ä¹ˆâ€ï¼Œå¼±äºæ´å¯Ÿâ€œç”¨æˆ·ä¸ºä½•ä¹°â€ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eå°ç±³\u003c/strong\u003eé€šè¿‡AIoTè¦†ç›–äº†æµ·é‡è®¾å¤‡å…¥å£ï¼Œä½†è®¾å¤‡æ•°æ®ä»·å€¼å¯†åº¦ä½ã€åœºæ™¯åˆ†æ•£ï¼Œéš¾ä»¥å½¢æˆç»Ÿä¸€çš„ç”¨æˆ·æ„å›¾ç”»åƒï¼ŒAIèƒ½åŠ›å¤šåœç•™åœ¨â€œè¢«åŠ¨æ„ŸçŸ¥â€ï¼Œè€Œéâ€œä¸»åŠ¨ç†è§£ä¸å†³ç­–â€ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eä¸‰ã€ç»ˆæå½¢æ€ï¼šâ€œç”Ÿæ´»æ™ºèƒ½ä½“â€ä½œä¸ºå•†ä¸šåŒ–æ‹ç‚¹\u003c/h2\u003e\n\u003cp\u003eå½“æ¨¡å‹èƒ½åŠ›è¶‹äºæ™®é€‚åŒ–ï¼ŒAIçš„ä¸‹ä¸€å½¢æ€å¿…ç„¶æ˜¯åµŒå…¥ç°å®ã€ä¸»åŠ¨æœåŠ¡çš„æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ã€‚å…¶ä¸­ï¼Œ\u003cstrong\u003eç”Ÿæ´»æ™ºèƒ½ä½“ï¼ˆLife Agentï¼‰\u003c/strong\u003e å› å…¶è´´è¿‘äº¤æ˜“ã€éœ€æ±‚åˆšæ€§æœ€å¼ºã€åé¦ˆé“¾æ¡æœ€çŸ­ï¼Œè€Œè¢«è§†ä¸ºæœ€å…·å•†ä¸šåŒ–æ½œåŠ›çš„æ–¹å‘ã€‚\u003c/p\u003e\n\u003cp\u003eç”Ÿæ´»æ™ºèƒ½ä½“å¹¶éæ›´èªæ˜çš„è¯­éŸ³åŠ©æ‰‹ï¼Œè€Œæ˜¯èƒ½ä¸»åŠ¨æ„ŸçŸ¥ç¯å¢ƒã€ç†è§£éœ€æ±‚ã€è§„åˆ’ä»»åŠ¡å¹¶è°ƒåº¦æœåŠ¡æ‰§è¡Œçš„AIç³»ç»Ÿã€‚å…¶æ¼”è¿›è·¯å¾„åŒ…å«å››ä¸ªå…³é”®å±‚çº§ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eæ„ŸçŸ¥å±‚ï¼ˆæˆç†Ÿï¼‰\u003c/strong\u003eï¼šé€šè¿‡LBSã€ä¼ æ„Ÿå™¨ç­‰å¤šæºæ•°æ®ç†è§£ç”¨æˆ·å®æ—¶æƒ…å¢ƒã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eè®¤çŸ¥å±‚ï¼ˆå‘å±•ä¸­ï¼‰\u003c/strong\u003eï¼šç»“åˆå¤§æ¨¡å‹æ·±åº¦è§£æç”¨æˆ·çš„éšå«æ„å›¾ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eå†³ç­–å±‚ï¼ˆå…³é”®çªç ´ï¼‰\u003c/strong\u003eï¼šä¸ºç”¨æˆ·è§„åˆ’æœ€ä¼˜è§£å†³æ–¹æ¡ˆï¼ˆå¦‚â€œä¸‹ç­è·¯ä¸Šç‚¹é¤ï¼Œåˆ°å®¶å³è¾¾â€ï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ‰§è¡Œå±‚ï¼ˆæ ¸å¿ƒå£å’ï¼‰\u003c/strong\u003eï¼šæ— ç¼è°ƒç”¨é…é€ã€æ”¯ä»˜ç­‰æœåŠ¡ï¼Œå®Œæˆé—­ç¯æ‰§è¡Œã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eç¾å›¢æ˜¯ç”Ÿæ´»æ™ºèƒ½ä½“çš„å¤©ç„¶å­µåŒ–å™¨ã€‚\u003c/strong\u003e å…¶ä¸šåŠ¡æœ¬è´¨å°±æ˜¯ä¸€ä¸ªè¦†ç›–æ•°äº¿äººã€æŒç»­è¿è¡Œçš„åŸå‹ã€‚æ¯æ—¥æ•°åƒä¸‡æ¬¡çš„è®¢å•è°ƒåº¦ï¼Œæœ¬èº«å°±æ˜¯ä¸€åœºå¤§è§„æ¨¡ã€å¤šæ™ºèƒ½ä½“çš„å¼ºåŒ–å­¦ä¹ å®éªŒã€‚è¿™ç§ç‹¬ç‰¹çš„ä¸šåŠ¡ç»“æ„ï¼Œä½¿å…¶åœ¨æ•°æ®ã€åœºæ™¯ä¸å±¥çº¦ç½‘ç»œä¸Šæ„å»ºäº†é€šå‘AIç»ˆå±€çš„ã€éš¾ä»¥å¤åˆ¶çš„ç³»ç»Ÿæ€§ä¼˜åŠ¿ã€‚\u003c/p\u003e\n\u003ch3\u003eä»â€œå·¥å…·â€åˆ°â€œä¼™ä¼´â€çš„ç»æµå­¦å·®å¼‚\u003c/h3\u003e\n\u003cp\u003eç”Ÿæ´»æ™ºèƒ½ä½“çš„é©å‘½æ€§åœ¨äºï¼Œå®ƒå®ç°äº†ä»â€œè¢«åŠ¨å·¥å…·â€åˆ°â€œä¸»åŠ¨ç»æµä¼™ä¼´â€çš„è·ƒè¿ï¼Œè¿™ä½“ç°åœ¨ä¸‰ä¸ªç»´åº¦ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eå‚ä¸æ·±åº¦\u003c/strong\u003eï¼šä»â€œæå‡æ•ˆç‡â€ï¼ˆå¦‚åŠå…¬æ™ºèƒ½ä½“ï¼‰çš„å¯é€‰å·¥å…·ï¼Œå˜ä¸ºâ€œæˆä¸ºç»æµç¯èŠ‚â€çš„å¿…è¦åŸºç¡€è®¾æ–½ã€‚æ²¡æœ‰ç”Ÿæ´»æ™ºèƒ½ä½“ï¼Œæ•´ä¸ªæœåŠ¡é“¾æ¡çš„æ•ˆç‡ä¸ä½“éªŒå°†å¤§å¹…é™çº§ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eä»·å€¼é—­ç¯\u003c/strong\u003eï¼šä»â€œé—´æ¥è¾…åŠ©â€ï¼ˆä»·å€¼éš¾ä»¥è¡¡é‡ï¼‰å˜ä¸ºâ€œç›´æ¥å˜ç°â€ã€‚æ¯ä¸€æ¬¡æˆåŠŸçš„æ™ºèƒ½å†³ç­–éƒ½èƒ½ç›´æ¥è½¬åŒ–ä¸ºäº¤æ˜“ï¼ˆGMVï¼‰ï¼Œä»·å€¼åˆ›é€ å³æ—¶ã€å¯é‡åŒ–ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eç½‘ç»œæ•ˆåº”\u003c/strong\u003eï¼šä»â€œä¸ªä½“èµ‹èƒ½â€ï¼ˆç½‘ç»œæ•ˆåº”å¼±ï¼‰å˜ä¸ºâ€œç”Ÿæ€é‡æ„â€ã€‚ç”¨æˆ·ä¾§æ›´ç²¾å‡†çš„å†³ç­–ä¸å•†æˆ·ä¾§æ›´ä¼˜çš„è¿è¥å½¢æˆåŒå‘æ­£åé¦ˆï¼Œæ„å»ºå‡ºå¼ºå¤§çš„ç”Ÿæ€é—­ç¯ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå› æ­¤ï¼Œç”Ÿæ´»æ™ºèƒ½ä½“ä¸å†ä»…æ˜¯â€œæ›´å¥½çš„å·¥å…·â€ï¼Œè€Œæ˜¯ä¸€ç§\u003cstrong\u003eæ–°å‹çš„ç»æµç»„ç»‡å½¢å¼\u003c/strong\u003eã€‚ç¾å›¢æ­£æ˜¯è¿™ç§ç»„ç»‡æ–¹å¼çš„æ ¸å¿ƒæ¢çº½ï¼Œå…¶AIåœ¨æ¨åŠ¨ä»â€œèµ‹èƒ½ä¸ªä½“â€èµ°å‘â€œé‡æ„ç”Ÿæ€â€çš„è¿‡ç¨‹ä¸­ï¼Œå æ®äº†æœ€å…·æˆ˜ç•¥æ„ä¹‰çš„ä½ç½®ã€‚\u003c/p\u003e\n\u003ch2\u003eå››ã€è¥é”€èŒƒå¼é©å‘½ï¼šä»â€œæ³¨æ„åŠ›ç»æµâ€åˆ°â€œè¡Œä¸ºç»æµâ€\u003c/h2\u003e\n\u003cp\u003eç”Ÿæ´»æ™ºèƒ½ä½“çš„æ·±åº¦ä»‹å…¥ï¼Œæ­£æ¨åŠ¨è¥é”€çš„æ ¸å¿ƒé€»è¾‘å‘ç”Ÿæ ¹æœ¬æ€§å˜é©ï¼šä»äº‰å¤ºç”¨æˆ·æ³¨æ„åŠ›çš„â€œæ³¨æ„åŠ›ç»æµâ€ï¼ˆAIDAæ¨¡å‹ï¼‰ï¼Œè¿ˆå‘ä»¥ååŒç”¨æˆ·è¡Œä¸ºã€äº¤ä»˜æœ€ç»ˆç»“æœä¸ºæ ¸å¿ƒçš„â€œè¡Œä¸ºç»æµâ€ï¼ˆBEPAæ¨¡å‹ï¼‰ã€‚\u003c/p\u003e\n\u003ch3\u003eèŒƒå¼æ¯”è¾ƒï¼šAIDA vs. BEPA\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eç»´åº¦\u003c/th\u003e\n\u003cth\u003eæ³¨æ„åŠ›ç»æµï¼ˆAIDAï¼‰\u003c/th\u003e\n\u003cth\u003eè¡Œä¸ºç»æµï¼ˆBEPAï¼‰\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eé€»è¾‘èµ·ç‚¹\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eå¸å¼•ç”¨æˆ·æ³¨æ„\u003c/td\u003e\n\u003ctd\u003eæ´å¯Ÿç”¨æˆ·è¡Œä¸º\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eæ ¸å¿ƒæŒ‡æ ‡\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæ›å…‰é‡ã€ç‚¹å‡»ç‡\u003c/td\u003e\n\u003ctd\u003eä»»åŠ¡å®Œæˆç‡ã€ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eå¹¿å‘Šå½¢æ€\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eå¹²æ‰°å¼ã€è¢«åŠ¨æ¨é€\u003c/td\u003e\n\u003ctd\u003eèå…¥å¼ã€ä¸»åŠ¨æœåŠ¡\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eå•†ä¸šæœ¬è´¨\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæµé‡å˜ç°\u003c/td\u003e\n\u003ctd\u003eä»·å€¼å…±åˆ›\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eåœ¨è¡Œä¸ºç»æµä¸‹ï¼Œå¹¿å‘Šç³»ç»Ÿè¿›åŒ–ä¸º**â€œè¡Œä¸ºé—­ç¯å¼•æ“â€**ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿæ„ŸçŸ¥â€œé›¨å¤©+ä¸‹ç­æ—¶é—´+ç”¨æˆ·ä½ç½®â€åï¼Œè‡ªåŠ¨è§¦å‘â€œç«é”…å¥—é¤æ¨è+å³æ—¶é…é€â€æœåŠ¡ã€‚å¹¿å‘Šä¸å†æ˜¯ä¸æœåŠ¡å‰²è£‚çš„å¹²æ‰°ä¿¡æ¯ï¼Œè€Œæ˜¯æœåŠ¡ä½“éªŒæœ¬èº«ã€‚è¡¡é‡æ ‡å‡†ä¹Ÿä»â€œç‚¹å‡»ç‡â€è½¬å˜ä¸ºâ€œéœ€æ±‚æ»¡è¶³çš„æˆåŠŸç‡â€ã€‚\u003c/p\u003e\n\u003ch3\u003eå†³ç­–ä¸»ä½“è¿ç§»ï¼šä»â€œäººæ‰¾è´§â€åˆ°â€œAIä»£åŠ³â€\u003c/h3\u003e\n\u003cp\u003eè¿™ä¸€å˜é©çš„æœ¬è´¨æ˜¯å†³ç­–ä¸»ä½“çš„è¿ç§»ã€‚ä¼ ç»Ÿå¹¿å‘Šï¼ˆAIDAï¼‰ä¾èµ–äºâ€œå¹²æ‰°ä¸è¯´æœâ€ï¼Œç”¨æˆ·æ˜¯å†³ç­–ä¸æ‰§è¡Œçš„ç»å¯¹ä¸­å¿ƒã€‚è€Œæ™ºèƒ½å¹¿å‘Šï¼ˆBEPAï¼‰åˆ™ä¾èµ–äºâ€œé¢„æµ‹ä¸æœåŠ¡â€ï¼Œç”Ÿæ´»æ™ºèƒ½ä½“åŸºäºæ·±åº¦ç†è§£ï¼Œä¸»åŠ¨å®Œæˆå†³ç­–å¹¶æä¾›â€œæœ€ç»ˆæ–¹æ¡ˆâ€ï¼Œç”¨æˆ·ä»…éœ€â€œç¡®è®¤æ‰§è¡Œâ€ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eå¹¿å‘Šçš„è½½ä½“å› æ­¤ä»â€œå†…å®¹â€æ¼”å˜ä¸ºâ€œæœåŠ¡æµç¨‹â€\u003c/strong\u003eã€‚èƒ½å¤Ÿå°†\u003cstrong\u003eå†³ç­–ã€äº¤æ˜“ã€å±¥çº¦\u003c/strong\u003eæ·±åº¦æ•´åˆè¿›åŒä¸€ç”Ÿæ€çš„ä¼ä¸šï¼Œå°†æˆä¸ºæœ€å¤§å—ç›Šè€…ã€‚\u003c/p\u003e\n\u003ch3\u003eå¹¿å‘Šè½½ä½“ç±»å‹ä¸æ”¶ç›Šå¯¹æ¯”\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå¹¿å‘Šè½½ä½“ç±»å‹\u003c/th\u003e\n\u003cth\u003eä»£è¡¨ä¼ä¸š\u003c/th\u003e\n\u003cth\u003eåœ¨è¡Œä¸ºç»æµä¸­æ”¶ç›Šç¨‹åº¦\u003c/th\u003e\n\u003cth\u003eåŸå› åˆ†æ\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eå†…å®¹æµå¹¿å‘Š\u003c/td\u003e\n\u003ctd\u003eå­—èŠ‚è·³åŠ¨\u003c/td\u003e\n\u003ctd\u003eä¸­\u003c/td\u003e\n\u003ctd\u003eç²¾å‡†é¢„æµ‹å…´è¶£ï¼Œä½†äº¤æ˜“å¤šåœ¨ç«™å¤–å®Œæˆï¼Œé—­ç¯å¼±ï¼Œåé¦ˆæ»åã€‚\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eæœç´¢å¹¿å‘Š\u003c/td\u003e\n\u003ctd\u003eç™¾åº¦ã€é˜¿é‡Œ\u003c/td\u003e\n\u003ctd\u003eä¸­é«˜\u003c/td\u003e\n\u003ctd\u003eå¯¹åº”ä¸»åŠ¨æ„å›¾ï¼Œè½¬åŒ–è·¯å¾„çŸ­ï¼Œä½†ä»æ˜¯â€œç”¨æˆ·å†³ç­–ï¼Œå¹³å°æ¨èâ€æ¨¡å¼ã€‚\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eç¤¾äº¤å¹¿å‘Š\u003c/td\u003e\n\u003ctd\u003eè…¾è®¯\u003c/td\u003e\n\u003ctd\u003eä¸­é«˜\u003c/td\u003e\n\u003ctd\u003eä¾æ‰˜ç¤¾äº¤ä¿¡ä»»æ˜“æ¿€å‘å†²åŠ¨æ¶ˆè´¹ï¼Œä½†äº¤æ˜“é—­ç¯å¸¸ä¸å®Œæ•´ã€‚\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eç”Ÿæ´»æµç¨‹å¹¿å‘Š\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003eç¾å›¢\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003eæé«˜\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003eå¹¿å‘Šå³æœåŠ¡ã€‚å†³ç­–ç›´æ¥åµŒå…¥ç‚¹é¤ã€æ‰“è½¦ç­‰ç”Ÿæ´»æµç¨‹ï¼Œäº¤æ˜“ä¸å±¥çº¦å‡åœ¨å¹³å°å†…å®Œæˆï¼Œåé¦ˆå®æ—¶ï¼Œä»·å€¼æœ€å¤§åŒ–ã€‚\u003c/strong\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003ch3\u003eå•†ä¸šé€»è¾‘å†å®šä¹‰ï¼šä»â€œå–æµé‡â€åˆ°â€œå–ç»“æœâ€\u003c/h3\u003e\n\u003cp\u003eæœ€ç»ˆï¼Œå•†ä¸šé€»è¾‘è¢«é‡æ–°å®šä¹‰ï¼šä»â€œå–æµé‡â€è½¬å˜ä¸ºâ€œå–ç»“æœâ€ã€‚å¹¿å‘Šæ”¯å‡ºä¸å†è¢«è§†ä¸ºæˆæœ¬ï¼Œè€Œæ˜¯ç›´æ¥æ¨åŠ¨ä¸šåŠ¡å¢é•¿çš„æŠ•èµ„ã€‚æ‹¥æœ‰å®Œæ•´æœåŠ¡ç”Ÿæ€ä¸å±¥çº¦ç½‘ç»œçš„ä¼ä¸šï¼Œå¦‚ç¾å›¢ï¼Œå‡­å€Ÿå…¶é«˜é¢‘åœºæ™¯ã€é—­ç¯æ•°æ®ä¸å®æ—¶åé¦ˆï¼Œå…·å¤‡äº†å°†å¹¿å‘Šä»â€œä¿¡æ¯å±•ç¤ºâ€å½»åº•è½¬åŒ–ä¸ºâ€œè¡Œä¸ºä»£åŠ³â€çš„ç‹¬ç‰¹èƒ½åŠ›ã€‚\u003c/p\u003e\n\u003ch2\u003eäº”ã€æŠ•èµ„æ¨æ¼”ï¼šAIè½åœ°çš„æ—¶é—´çº¿â€”â€”ä¸­ç¾èŠ‚å¥å·®å¼‚ä¸ä»·å€¼å…‘ç°è·¯å¾„\u003c/h2\u003e\n\u003cp\u003eAIä»·å€¼çš„å…‘ç°æ˜¯æ¸è¿›çš„ï¼Œé˜¿é‡Œå·´å·´ã€è…¾è®¯ã€ç¾å›¢ï¼ˆATMï¼‰ä¸‰æçš„è½åœ°è·¯å¾„å‘ˆç°å‡ºæ˜¾è‘—çš„æ—¶åºå·®å¼‚ï¼Œè¿™æ„æˆäº†æŠ•èµ„å¸ƒå±€çš„å…³é”®çª—å£ã€‚\u003c/p\u003e\n\u003ch3\u003eATMä¸‰æçš„æ—¶é—´åˆ†å¸ƒä¸é©±åŠ¨åŠ›\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå…¬å¸\u003c/th\u003e\n\u003cth\u003eä»·å€¼å…‘ç°é˜¶æ®µ\u003c/th\u003e\n\u003cth\u003eå½“å‰å¸‚åœºå®šä»·ç¨‹åº¦\u003c/th\u003e\n\u003cth\u003eæ ¸å¿ƒé©±åŠ¨å› ç´ \u003c/th\u003e\n\u003cth\u003eä¸»è¦é£é™©\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eé˜¿é‡Œå·´å·´\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæœ€æ—©ï¼ˆ2024-2026ï¼‰\u003c/td\u003e\n\u003ctd\u003eè¾ƒé«˜ï¼ˆ60-70%ï¼‰\u003c/td\u003e\n\u003ctd\u003eäº‘ä¸æ¨¡å‹æœåŠ¡æ”¶å…¥è§„æ¨¡åŒ–\u003c/td\u003e\n\u003ctd\u003eå¢é•¿è¿›å…¥å¹³å°æœŸï¼ŒBç«¯éœ€æ±‚ç–²è½¯\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eè…¾è®¯\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eä¸­æœŸï¼ˆ2025-2027ï¼‰\u003c/td\u003e\n\u003ctd\u003eä¸­åº¦ï¼ˆ30-40%ï¼‰\u003c/td\u003e\n\u003ctd\u003eç¤¾äº¤å¹¿å‘ŠROIæå‡ï¼Œå†…å®¹ç”Ÿæ€AIåŒ–\u003c/td\u003e\n\u003ctd\u003eæ•°æ®éšç§ç›‘ç®¡ï¼Œç¤¾äº¤å¢é•¿è§é¡¶\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eç¾å›¢\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eæ»åä½†æ½œåŠ›æœ€å¤§ï¼ˆ2027+ï¼‰\u003c/td\u003e\n\u003ctd\u003eæä½ï¼ˆ\u0026lt;20%ï¼‰\u003c/td\u003e\n\u003ctd\u003eç”Ÿæ´»æ™ºèƒ½ä½“å•†ä¸šåŒ–ï¼Œè¡Œä¸ºæ•°æ®è´§å¸åŒ–\u003c/td\u003e\n\u003ctd\u003eç›ˆåˆ©å‘¨æœŸé•¿ï¼ŒæŠ€æœ¯è½åœ°èŠ‚å¥\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eå¸‚åœºå·²å¯¹é˜¿é‡Œçš„åŸºç¡€è®¾æ–½ä»·å€¼å’Œè…¾è®¯çš„æµé‡çº¢åˆ©ç»™äºˆAIæº¢ä»·ï¼Œä½†å¯¹ç¾å›¢â€œè¡Œä¸ºæ•°æ®é—­ç¯â€çš„ç»ˆå±€ä»·å€¼è®¤çŸ¥å°šä¸å……åˆ†ã€‚è¿™æ„å‘³ç€ï¼Œç¾å›¢è™½å…‘ç°è¾ƒæ™šï¼Œå´å¯èƒ½åœ¨AIâ€œä¸‹åŠåœºâ€å®ç°æœ€å¤§å¹…åº¦çš„ä¼°å€¼é‡ä¼°ã€‚\u003c/p\u003e\n\u003ch3\u003eä¸­ç¾èŠ‚å¥å·®å¼‚ï¼šåº”ç”¨æ¢ç´¢ vs åŸºç¡€è¡¥è¯¾\u003c/h3\u003e\n\u003cp\u003eå…¨çƒAIå‘å±•å¹¶ä¸åŒæ­¥ï¼Œè¿™ç§ç»“æ„æ€§å·®å¼‚æ·±åˆ»å½±å“ATMçš„å…‘ç°èŠ‚å¥ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eç¾å›½ï¼šåº”ç”¨æ¢ç´¢é¢†å…ˆã€‚\u003c/strong\u003e åœ¨ç®—åŠ›ã€æ¨¡å‹ã€äº‘å¹³å°ç­‰åŸºç¡€å±‚æ ¼å±€ç¨³å›ºåï¼Œç”Ÿæ€é‡å¿ƒåŠ é€Ÿè½¬å‘Copilotã€AI Agentç­‰åº”ç”¨åˆ›æ–°ï¼ŒæŠ•èµ„é€»è¾‘èšç„¦äºâ€œå¯æŒç»­å•†ä¸šé—­ç¯â€ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eä¸­å›½ï¼šåŸºç¡€è¡¥è¯¾æ”»åšã€‚\u003c/strong\u003e å—ç®—åŠ›ä¾›ç»™ã€æŠ€æœ¯å¯æ§æ€§ç­‰å› ç´ å½±å“ï¼Œæ­£å¤„äºå¤¯å®è‡ªä¸»èŠ¯ç‰‡ã€åŸºç¡€æ¨¡å‹ã€äº§ä¸šåŒ–è½åœ°çš„â€œåŸºç¡€è¡¥è¯¾æœŸâ€ã€‚åº”ç”¨å±‚çˆ†å‘æœ‰å¾…æˆæœ¬ä¸‹è¡Œä¸ç”Ÿæ€ååŒçš„æ‹ç‚¹ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eä¸‰æçš„èŠ‚å¥é€’è¿›ï¼šä»åŸºç¡€è®¾æ–½åˆ°ç”Ÿæ€æ ¸å¿ƒ\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eé˜¿é‡Œå·´å·´ï¼ˆ2024-2026ï¼‰ï¼šåŸºç¡€è®¾æ–½ç‡å…ˆå˜ç°ã€‚\u003c/strong\u003e ä½œä¸ºâ€œå–æ°´è€…â€ï¼Œé˜¿é‡Œäº‘å°†åœ¨å›½äº§ç®—åŠ›ä¸æ¨¡å‹éœ€æ±‚ä¸­æœ€æ—©å—ç›Šï¼Œçº¢åˆ©ä½“ç°ä¸ºäº‘æ”¶å…¥å¢é•¿ï¼Œå…‘ç°æœ€æ—©ã€ç¡®å®šæ€§æœ€é«˜ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eè…¾è®¯ï¼ˆ2026-2028ï¼‰ï¼šç”Ÿæ€æ•ˆåº”ä¸­æœŸé‡Šæ”¾ã€‚\u003c/strong\u003e éšæ¨¡å‹æˆæœ¬ä¸‹é™ä¸ç”Ÿæ€AIåŒ–æˆç†Ÿï¼Œå…¶ç¤¾äº¤ã€å¹¿å‘Šã€å†…å®¹å°†è¿›å…¥â€œæ™ºèƒ½åˆ†å‘â€ä¸â€œé«˜ROIâ€é˜¶æ®µï¼Œæˆä¸ºAIåº”ç”¨ä¸­æœŸæ ¸å¿ƒå—ç›Šè€…ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eç¾å›¢ï¼ˆ2027+ï¼‰ï¼šè¡Œä¸ºæ™ºèƒ½çš„ç»ˆå±€çˆ†å‘ã€‚\u003c/strong\u003e å½“åŸºç¡€æˆæœ¬è¶³å¤Ÿä½ã€æ™ºèƒ½ä½“æŠ€æœ¯æˆç†Ÿåï¼Œç¾å›¢çš„â€œç”Ÿæ´»æ™ºèƒ½ä½“â€æ¨¡å¼å°†ä»â€œäº¤æ˜“å¹³å°â€å‡çº§ä¸ºâ€œè¡Œä¸ºåŸºç¡€è®¾æ–½â€ï¼Œä»·å€¼å…‘ç°è™½æ™šï¼Œä½†æ½œåŠ›æœ€å¤§ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eæŠ•èµ„å¯ç¤ºåœ¨äºè¯†åˆ«â€œæ—¶é—´å·®â€ã€‚\u003c/strong\u003e å¯¹é•¿çº¿æŠ•èµ„è€…è€Œè¨€ï¼Œé˜¿é‡Œä»£è¡¨ç¨³å¥å…‘ç°ï¼Œè…¾è®¯ä»£è¡¨ä¸­æœŸæˆé•¿ï¼Œç¾å›¢ä»£è¡¨åæœŸçˆ†å‘ã€‚çœŸæ­£çš„è¶…é¢æ”¶ç›Šæºäºåœ¨å¸‚åœºè®¤çŸ¥åè½¬å‰ï¼Œå¸ƒå±€é‚£äº›å…·å¤‡ç»ˆå±€ä¼˜åŠ¿ä½†ç°é˜¶æ®µè¢«ä½ä¼°çš„èµ„äº§ã€‚\u003c/p\u003e\n\u003ch2\u003eå…­ã€ç»“è®ºï¼šAIçš„æœªæ¥å±äºâ€œæ‡‚ä¸–ç•Œâ€çš„å…¬å¸\u003c/h2\u003e\n\u003cp\u003eAIçš„ä¸ŠåŠåœºå±äºèƒ½ç”¨ä»£ç å®šä¹‰æ™ºæ…§çš„å·¥ç¨‹å¸ˆï¼›è€Œä¸‹åŠåœºï¼Œå°†å±äºèƒ½ä»¥æ•°æ®å’Œåœºæ™¯ç†è§£ä¸–ç•Œçš„ä¼ä¸šå®¶ã€‚å½“æŠ€æœ¯è¶‹åŒï¼Œç«äº‰çš„æœ¬è´¨å·²ä»â€œæŠ€æœ¯é¢†å…ˆâ€è½¬å‘â€œç°å®ç†è§£â€ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eATMä¸‰æçš„å¯ç¤º\u003c/strong\u003eåœ¨äºï¼Œå®ƒä»¬ä»£è¡¨äº†ä¸‰ç§ç†è§£ä¸–ç•Œçš„è·¯å¾„ï¼šé˜¿é‡Œæ˜¯â€œå•†ä¸šä¸–ç•Œçš„æ´å¯Ÿè€…â€ï¼Œè…¾è®¯æ˜¯â€œç¤¾äº¤ä¸–ç•Œçš„æ˜ å°„è€…â€ï¼Œè€Œç¾å›¢æ˜¯â€œç”Ÿæ´»ä¸–ç•Œçš„å‚ä¸è€…â€ã€‚å®ƒä»¬çš„æ¼”åŒ–æ­ç¤ºå‡ºï¼š\u003cstrong\u003eAIçš„ç»ˆæå£å’ï¼Œä¸åœ¨æ¨¡å‹ï¼Œè€Œåœ¨ä¸–ç•Œæ¨¡å‹ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eAIæ­£åœ¨ä»â€œè¯­è¨€æ¨¡å‹â€å‘â€œä¸–ç•Œæ¨¡å‹â€æ¼”è¿›ã€‚çœŸæ­£çš„æ™ºèƒ½ä¸æ˜¯ç”Ÿæˆç­”æ¡ˆï¼Œè€Œæ˜¯èƒ½æ ¹æ®ä¸–ç•ŒçŠ¶æ€åšå‡ºå†³ç­–ã€‚ç¾å›¢åœ¨æ­¤æ–¹å‘èµ°å¾—æœ€æ·±ï¼Œå®ƒè®­ç»ƒçš„ä¸æ˜¯æ¨¡å‹ï¼Œè€Œæ˜¯\u003cstrong\u003eè¡Œä¸ºç³»ç»Ÿ\u003c/strong\u003eâ€”â€”å…¶AIç›´æ¥å‚ä¸ç»„ç»‡ç»æµæ´»åŠ¨ï¼Œæˆä¸ºç»æµç³»ç»Ÿçš„â€œå†…ç”Ÿå˜é‡â€ã€‚\u003c/p\u003e\n\u003cp\u003eä¸­å›½çš„AIç”Ÿæ€ï¼Œè™½ç„¶åœ¨åº•å±‚ç®—åŠ›ä¸æ¨¡å‹å±‚é¢æš‚å¤„è¿½èµ¶æ€åŠ¿ï¼Œä½†åœ¨\u003cstrong\u003eåœºæ™¯å¯†åº¦ä¸è¡Œä¸ºé—­ç¯\u003c/strong\u003eä¸Šå…·å¤‡ç‹¬ç‰¹ä¼˜åŠ¿ã€‚ATMçš„ç»„åˆè®©ä¸­å›½AIæ›´å¯èƒ½ç‡å…ˆåœ¨â€œç°å®æ™ºèƒ½â€å±‚é¢å–å¾—çªç ´ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eæœ€ç»ˆçš„èƒœè€…ï¼Œä¸æ˜¯æ‹¥æœ‰æœ€å¼ºæ¨¡å‹çš„å…¬å¸ï¼Œè€Œæ˜¯æœ€æ‡‚äººç±»è¡Œä¸ºä¸ä¸–ç•Œè¿è¡Œè§„å¾‹çš„å…¬å¸ã€‚\u003c/strong\u003e å½“AIä»è™šæ‹Ÿè¯­ä¹‰ç©ºé—´èµ°å…¥ç‰©ç†ç°å®ä¸–ç•Œï¼Œå¯¹â€œç”Ÿæ´»â€çš„æ·±åº¦ç†è§£ï¼Œå°†æˆä¸ºè¿™ä¸ªæ—¶ä»£æœ€åšå›ºçš„æŠ¤åŸæ²³ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cem\u003eæœ¬æ–‡åŸºäºäº§ä¸šåˆ†æä¸å…¬å¼€èµ„æ–™ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚AIäº§ä¸šå‘å±•è¿…é€Ÿï¼Œè§‚ç‚¹å…·æœ‰æ—¶æ•ˆæ€§ã€‚\u003c/em\u003e\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"className\":\"min-h-screen\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-2xl shadow-2xl border border-gray-200 hover:shadow-3xl transition-all duration-300 p-8 sm:p-12\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center mb-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"inline-flex items-center px-3 py-1.5 bg-gray-50 text-gray-600 rounded-md text-sm font-normal\",\"children\":[[\"$\",\"svg\",null,{\"className\":\"w-4 h-4 mr-2 text-gray-400\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"viewBox\":\"0 0 24 24\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":2,\"d\":\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"}]}],[\"$\",\"time\",null,{\"dateTime\":\"2025-10-29\",\"children\":\"2025å¹´10æœˆ29æ—¥\"}]]}]}],[\"$\",\"h1\",null,{\"className\":\"text-4xl font-bold text-gray-900 mb-6 text-center\",\"children\":\"AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2 mb-6 justify-center\",\"children\":[[\"$\",\"$L5\",\"AWS\",{\"href\":\"/blog/tag/AWS/page/1/\",\"className\":\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-gray-900 transition-colors\",\"children\":\"AWS\"}],[\"$\",\"$L5\",\"Devops\",{\"href\":\"/blog/tag/Devops/page/1/\",\"className\":\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-gray-900 transition-colors\",\"children\":\"Devops\"}],[\"$\",\"$L5\",\" æ³³é“éƒ¨ç½²\",{\"href\":\"/blog/tag/%20%E6%B3%B3%E9%81%93%E9%83%A8%E7%BD%B2/page/1/\",\"className\":\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 hover:text-gray-900 transition-colors\",\"children\":\" æ³³é“éƒ¨ç½²\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"max-w-5xl mx-auto\",\"children\":[\"$\",\"$L14\",null,{\"content\":\"$15\"}]}],[\"$\",\"$11\",null,{\"fallback\":[\"$\",\"div\",null,{\"className\":\"mt-12 pt-8 border-t border-gray-200\",\"children\":\"åŠ è½½å¯¼èˆªä¸­...\"}],\"children\":[\"$\",\"$L16\",null,{\"globalNav\":{\"prev\":{\"slug\":\"technology/AIä¸‹åŠåœºï¼šä¸­å›½AIçš„ä¸‰æç«äº‰\",\"title\":\"AIä¸‹åŠåœºï¼šä¸­å›½AIçš„ä¸‰æç«äº‰â€”â€”é˜¿é‡Œã€è…¾è®¯ä¸ç¾å›¢\",\"description\":\"AIä¸ŠåŠåœºæ¯”æ‹¼ç®—æ³•ä¸ç®—åŠ›ï¼Œä¸‹åŠåœºåˆ™æ¯”æ‹¼æ•°æ®ä¸åœºæ™¯ã€‚é˜¿é‡Œã€è…¾è®¯ã€ç¾å›¢åˆ†åˆ«ä»£è¡¨åŸºç¡€å±‚ã€ç”Ÿæ€å±‚ä¸åœºæ™¯å±‚ï¼Œæ„æˆä¸­å›½AIçš„ç°å®æ ¼å±€ã€‚\",\"pubDate\":\"2025-10-28\",\"tags\":[\"é˜¿é‡Œå·´å·´\",\"è…¾è®¯\",\"ç¾å›¢\",\"AIäº§ä¸šç ”ç©¶\"],\"heroImage\":\"$undefined\",\"content\":\"$17\"},\"next\":null},\"tagNav\":{\"AWS\":{\"prev\":null,\"next\":null},\"Devops\":{\"prev\":null,\"next\":null},\" æ³³é“éƒ¨ç½²\":{\"prev\":null,\"next\":null}}}]}],[\"$\",\"$L18\",null,{}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"b:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ - Skyfalling Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº AWS CodePipeline + CloudFormation æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„ ECS æŒç»­äº¤ä»˜ä½“ç³»ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº AWS CodePipeline + CloudFormation æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„ ECS æŒç»­äº¤ä»˜ä½“ç³»ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"5\",{\"property\":\"article:published_time\",\"content\":\"2025-10-29\"}],[\"$\",\"meta\",\"6\",{\"property\":\"article:author\",\"content\":\"Skyfalling\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"AWSå¤šæ³³é“è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜å®è·µ\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"æœ¬æ–‡é¢å‘ DevOps æ¶æ„å¸ˆä¸äº‘åŸç”Ÿå·¥ç¨‹å¸ˆï¼Œä»‹ç»å¦‚ä½•åŸºäº AWS CodePipeline + CloudFormation æ„å»ºä¸€å¥—æ”¯æŒå¤šæ³³é“ï¼ˆMulti-Laneï¼‰å¹¶è¡Œéƒ¨ç½²çš„ ECS æŒç»­äº¤ä»˜ä½“ç³»ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³å¹¶å‘éƒ¨ç½²çš„èµ„æºé”å†²çªé—®é¢˜ï¼Œè¿˜å®ç°æ¨¡æ¿é›†ä¸­æ²»ç†ä¸ä¸šåŠ¡ä»“åº“å®Œå…¨è§£è€¦ã€‚\"}],[\"$\",\"link\",\"10\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon.png\"}],[\"$\",\"link\",\"11\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"12\",{\"rel\":\"icon\",\"href\":\"/favicon.png\"}],[\"$\",\"link\",\"13\",{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon.png\"}]],\"error\":null,\"digest\":\"$undefined\"}\n13:{\"metadata\":\"$b:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>